- commits:
    - subject: Update layers/meta-balena to c087c2dbcff4ed666bbad7901fe0f28794c99bc0
      hash: dbfa50479f6383384888a3eb79970786863e6938
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to c087c2dbcff4ed666bbad7901fe0f28794c99bc0
        changelog-entry: Update layers/meta-balena to c087c2dbcff4ed666bbad7901fe0f28794c99bc0
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: "resin-init-flasher: Increase size of LUKS header to 16MB"
              hash: 024a6dfc244247f739f5c6bf72c8bf55cbe8b6e1
              body: >
                After switching to LUKS2, the header size increased from 2MB to
                16MB.

                While HUP of older systems works, it is impossible to provision

                new encrypted systems.


                This patch fixes the header size in flasher.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.115.18
          title: ""
          date: 2023-06-29T08:26:11.052Z
  version: 2.115.18
  title: ""
  date: 2023-06-29T10:26:57.902Z
- commits:
    - subject: Update layers/meta-balena to 2df4a2410980aa482ebc6355e329a055917fa09d
      hash: 9163db26319729142202470fd6911a0d1ffe0790
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to 2df4a2410980aa482ebc6355e329a055917fa09d
        changelog-entry: Update layers/meta-balena to 2df4a2410980aa482ebc6355e329a055917fa09d
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: "balena-keys: add SIGN_KMOD_KEY_APPEND"
              hash: 981a4eec5106bc41643dc708bd64470093ad741c
              body: >
                This variable accepts the base64 encoded public key of a kernel
                module

                signing keypair and appends it to the list of trusted keys the kernel

                will use to validate signed modules. Multiple keys may be appended,

                delimited with a semicolon.


                A PEM file can be used like so:


                SIGN_KMOD_KEY_APPEND="$( sed -e '/-----BEGIN CERTIFICATE-----/d' \
                                             -e 's/-----END CERTIFICATE-----/;/g' \
                                             -e '$d' signing_key.pem \
                                         | tr -d '\n' )"

                balena-yocto-scripts/build/balena-build.sh \
                    -g "-a SIGN_KMOD_KEY_APPEND=${SIGN_KMOD_KEY_APPEND}" \
                    ...
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.115.17
          title: ""
          date: 2023-06-28T20:35:09.852Z
  version: 2.115.17
  title: ""
  date: 2023-06-28T22:25:42.505Z
- commits:
    - subject: Update layers/meta-balena to c2004fe8aea1c95bccb4151079cbfb63c07e864c
      hash: aed284438c1fb603b2af4348e75ec38f93d2b5bf
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to c2004fe8aea1c95bccb4151079cbfb63c07e864c
        changelog-entry: Update layers/meta-balena to c2004fe8aea1c95bccb4151079cbfb63c07e864c
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update balena-supervisor to v14.11.8
              hash: ff30642b741a2bd44091fa41e7b2d0f5c13470fd
              body: |
                Update balena-supervisor from 14.11.7 to 14.11.8
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested:
                - commits:
                    - subject: Parse container exit error message instead of status
                      hash: 71d24d6e3366b28e1466e99322d58420b5ebbb67
                      body: >
                        The previous implementation in #2170 of parsing the
                        container status was too general,

                        because it relied on the mistaken assumption that a container would have a status of

                        `Stopped` if it was manually stopped. This turned out to be untrue, as manually stopped

                        containers were also getting restarted by the Supervisor due to their inspect status of

                        `exited`. With this, parsing the exit message became unavoidable as there are no other

                        clear ways to discern a container that has been manually stopped and shouldn't be started

                        from a container experiencing the Engine-host race condition issue (again, see #2170).


                        Since we're just parsing the exit error message, we don't need to worry about different behaviors

                        amongst restart policies, as any container with the error message on exit should be started.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Closes: "#2178"
                        closes: "#2178"
                        Signed-off-by: Christina Ying Wang <christina@balena.io>
                        signed-off-by: Christina Ying Wang <christina@balena.io>
                      author: Christina W
                      nested: []
                  version: balena-supervisor-14.11.8
                  title: ""
                  date: 2023-06-23T18:46:22.881Z
          version: meta-balena-2.115.16
          title: ""
          date: 2023-06-28T07:37:09.027Z
  version: 2.115.16
  title: ""
  date: 2023-06-28T09:22:57.924Z
- commits:
    - subject: Update layers/meta-balena to c2e6ca9d57fd7214fe7c078591741a9c0fa6de73
      hash: f2c408d4373a85b7a3fbe37dc66512df5eb41453
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to c2e6ca9d57fd7214fe7c078591741a9c0fa6de73
        changelog-entry: Update layers/meta-balena to c2e6ca9d57fd7214fe7c078591741a9c0fa6de73
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update balena-engine to v20.10.37
              hash: c607d7be4d740802ab5e27b67f5e6714e1407855
              body: |
                Update balena-engine from 20.10.36 to 20.10.37
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested:
                - commits:
                    - subject: "Bugfix: concatReadSeekCloser.Read() with buffers of any size"
                      hash: 84471473ce02a0b8820e13105f845b67c19903c9
                      body: >
                        Previously, `concatReadSeekCloser.Read()` would
                        incorrectly return

                        an `io.ErrUnexpectedEOF` if the last read from the second concatenated

                        `Reader` didn't completely fill the passed buffer.


                        For instance:


                        ```
                              First Reader    Second Reader
                            |aaaaaaaaaaaaa|bbbbbbbbbbbbbbbbbbb|      <--- concatReadSeekCloser
                            |--- previously read ---|--- buffer ---| <--- last read
                                                              |xxxx| <--- "excess" buffer
                        ```


                        In this example, we have a `concatReadSeekCloser` that concatenates two

                        `Reader`s (`aaa...` and `bbb...`). The last `Read()` used a buffer

                        larger than the yet-to-be-read portion of the `bbb...`. So, it would

                        incorrectly return an `io.ErrUnexpectedEOF`.


                        This commit makes sure that last `Read()` returns all the remaining data

                        without an error. It also adds various test cases for

                        `concatReadSeekCloser.Read()`, many of which would fail before this

                        correction.


                        Interestingly, this bug was silently affecting us. Not in a fatal way,

                        but causing deltas to be larger than necessary. Indeed, running

                        `TestDeltaSize` after this commit shows that some test cases are

                        producing deltas smaller than what we expected before. For posterity,

                        see all the details below.


                        We use `concatReadSeekCloser`s to concatenate all layers of the basis

                        image when creating the "signature" of the basis image. In this process,

                        the `concatReadSeekCloser`s are wrapped around by a buffered reader with

                        a buffer of 65kB.


                        If, in any read, part of this 65kB buffer was beyond the second

                        concatenated reader, it would result in an `io.ErrUnexpectedEOF`. This

                        would not cause the whole process to fail, but would prematurely end the

                        signature generation: some of the final blocks in the basis image would

                        not be added to the signature. Therefore, if those blocks appeared in

                        the target image, they'd result in (larger) LITERAL, instead of

                        (smaller) COPY operations.


                        For illustration, here's the delta generated for the `delta-006-008`

                        test case. First before this commit:


                        ```
                          OP_COPY_N1_N2 0 512
                          OP_COPY_N2_N2 1536 1024
                          OP_COPY_N2_N2 3584 1024
                          OP_COPY_N2_N2 5632 1536
                          OP_COPY_N2_N2 8192 1536
                          OP_COPY_N2_N2 10752 4096
                          OP_COPY_N2_N2 15872 8704
                          OP_COPY_N2_N2 25600 10752
                          OP_COPY_N2_N2 37376 10752
                          OP_COPY_N2_N4 49152 131584
                          OP_COPY_N4_N4 181760 150528
                          OP_COPY_N4_N4 333312 500736
                          OP_COPY_N4_N4 835072 1000960
                          OP_COPY_N4_N4 1837056 1000960
                          OP_COPY_N4_N4 2839040 1027584    # Here: a COPY op...
                          OP_LITERAL_N2 21504              # ...followed by a 21 kB LITERAL.
                          OP_COPY_N4_N2 2838528 512
                          OP_COPY_N4_N2 2838528 512
                                 OP_END
                        ```


                        And after this commit:


                        ```
                         OP_COPY_N1_N2 0 512
                          OP_COPY_N2_N2 1536 1024
                          OP_COPY_N2_N2 3584 1024
                          OP_COPY_N2_N2 5632 1536
                          OP_COPY_N2_N2 8192 1536
                          OP_COPY_N2_N2 10752 4096
                          OP_COPY_N2_N2 15872 8704
                          OP_COPY_N2_N2 25600 10752
                          OP_COPY_N2_N2 37376 10752
                          OP_COPY_N2_N4 49152 131584
                          OP_COPY_N4_N4 181760 150528
                          OP_COPY_N4_N4 333312 500736
                          OP_COPY_N4_N4 835072 1000960
                          OP_COPY_N4_N4 1837056 1000960
                          OP_COPY_N4_N4 2839040 1049088    # COPY only, since we detected a longer match
                          OP_COPY_N4_N2 3888640 512
                          OP_COPY_N4_N2 3888640 512
                                 OP_END
                        ```


                        That 21kB LITERAL is the difference in size we saw in the test results.
                      footer:
                        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        Change-type: patch
                        change-type: patch
                      author: Leandro Motta Barros
                      nested: []
                    - subject: Minor code and comments tweaks
                      hash: 7dd51428c918980163fbe34511152dc72e7a3372
                      body: >
                        Using `defer` for the sake of being more idiomatic (and
                        maybe slightly

                        more reliable); plus, using the proper doc comment standards.
                      footer:
                        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        Change-type: patch
                        change-type: patch
                      author: Leandro Motta Barros
                      nested: []
                  version: balena-engine-20.10.37
                  title: ""
                  date: 2023-06-26T13:44:22.217Z
          version: meta-balena-2.115.15
          title: ""
          date: 2023-06-28T02:21:32.534Z
  version: 2.115.15
  title: ""
  date: 2023-06-28T03:22:08.236Z
- commits:
    - subject: Update layers/meta-balena to 515a2063746f0a5a1aea47cd6064673f7e80a716
      hash: b325c7d5e2bc4dd80c9e8701a77d2a459acedc1b
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to 515a2063746f0a5a1aea47cd6064673f7e80a716
        changelog-entry: Update layers/meta-balena to 515a2063746f0a5a1aea47cd6064673f7e80a716
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update tests/leviathan digest to a19d6ef
              hash: 2283326d55c288889a02f04c471fe058576fd9b4
              body: Update tests/leviathan
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested:
                - commits:
                    - subject: Update balena-os/leviathan-worker to v2.9.8
                      hash: 2a3757973579a8beeaa1aca0f226a58857d28e32
                      body: |
                        Update balena-os/leviathan-worker from 2.9.7 to 2.9.8
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Self-hosted Renovate Bot
                      nested: []
                  version: leviathan-2.27.9
                  title: ""
                  date: 2023-06-27T15:57:35.158Z
                - commits:
                    - subject: Update core/contracts digest to 6c4386a
                      hash: 18ddcf64b3db0ac97051e86e9efaf63f5a183d2a
                      body: |
                        Update core/contracts
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Self-hosted Renovate Bot
                      nested: []
                  version: leviathan-2.27.8
                  title: ""
                  date: 2023-06-27T12:08:02.856Z
                - commits:
                    - subject: "patch: Update QEMU getting started guide"
                      hash: 04333e2ffabf3044ad288c6588470373d6a97b6f
                      body: ""
                      footer:
                        Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
                        signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
                      author: Vipul Gupta (@vipulgupta2048)
                      nested: []
                  version: leviathan-2.27.7
                  title: ""
                  date: 2023-06-22T12:30:58.563Z
          version: meta-balena-2.115.14
          title: ""
          date: 2023-06-27T20:32:39.974Z
  version: 2.115.14
  title: ""
  date: 2023-06-27T23:21:21.378Z
- commits:
    - subject: Update contracts to 6c4386a7b918796f26b7e06e8ee5585403330e4f
      hash: adeafce9dc98a70da43771d46a2ab53868bab290
      body: Update contracts
      footer:
        Changelog-entry: Update contracts to 6c4386a7b918796f26b7e06e8ee5585403330e4f
        changelog-entry: Update contracts to 6c4386a7b918796f26b7e06e8ee5585403330e4f
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: "hw.device-type: Add Jetson Orin Nano Devkit 8GB (SD) module"
              hash: ffa98b5a136997b6cc187751d0133a9e7d8fa8cd
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
          version: contracts-2.0.62
          title: ""
          date: 2023-06-27T10:51:03.778Z
  version: 2.115.13+rev1
  title: ""
  date: 2023-06-27T12:19:52.601Z
- commits:
    - subject: Update layers/meta-balena to 87c91cdae3ca87e44a9417627c260701a5f85df9
      hash: 06c2fbac393366b676a5e53473f5e8e6fc13eab0
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to 87c91cdae3ca87e44a9417627c260701a5f85df9
        changelog-entry: Update layers/meta-balena to 87c91cdae3ca87e44a9417627c260701a5f85df9
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: "os-helpers: Fix os-helpers-api build warnings"
              hash: 46e6802ee5e8abf5eea4c8fd9ab737115382b033
              body: |
                * Add curl as a native dependency
                * Add package dependencies to test api
                * Replace status code check for a POSIX compliant version
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.115.13
          title: ""
          date: 2023-06-26T13:15:57.968Z
  version: 2.115.13
  title: ""
  date: 2023-06-26T15:16:37.719Z
- commits:
    - subject: Update layers/meta-balena to f50614c3a4c7e6db317d4404368827508d8fce82
      hash: bfa8f56d54e14503a627b18492b7c517267ddb89
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to f50614c3a4c7e6db317d4404368827508d8fce82
        changelog-entry: Update layers/meta-balena to f50614c3a4c7e6db317d4404368827508d8fce82
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update balena-supervisor to v14.11.7
              hash: d2277092cfb2f61f7fcd1197f0b431f45fe169d7
              body: |
                Update balena-supervisor from 14.11.3 to 14.11.7
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested:
                - commits:
                    - subject: Fix /v2/applications/state endpoint
                      hash: 12eac04484e3c0a347b6f31783ed7973991046fa
                      body: >
                        It was returning stale information, particularly the
                        download progress

                        of the target release images never got updated.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Closes: "#2174"
                        closes: "#2174"
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-14.11.7
                  title: ""
                  date: 2023-06-19T21:54:56.093Z
                - commits:
                    - subject: Add fail-safe to test the image architecture
                      hash: 1cf325d5c55bfb9d2ebb4cde7b9c448a6cfb2067
                      body: >
                        Verify that the target image architecture matches what
                        is expected

                        according to the balena app architecture.
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                    - subject: Use multi-arch in dockerfile
                      hash: c1b157971d5fe15f9b85cdc6f0eed90b8d2eb22f
                      body: >
                        This is necessary since the builder no longer passes the
                        platform flag

                        to the build. This would lead to dockerfiles that are mixing multi and single

                        arch stages to pull the wrong architecture images, particularly when

                        trying to build images in emulated builds (e.g. armv7hf built on aarch64).


                        Moving the full build to multi-arch solves this as the docker engine is

                        capable of chosing the right architecture from the manifest.
                      footer:
                        Relatest-to: balena-io/balena-builder#1010
                        relatest-to: balena-io/balena-builder#1010
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-14.11.6
                  title: ""
                  date: 2023-06-19T20:53:34.395Z
                - commits:
                    - subject: Improve tests surrounding Engine-host race patch
                      hash: 7eba48f8b832ec16465565f210e659a9f822e5b3
                      body: ""
                      footer:
                        See: "#2170"
                        see: "#2170"
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Christina Ying Wang <christina@balena.io>
                        signed-off-by: Christina Ying Wang <christina@balena.io>
                      author: Christina Ying Wang
                      nested: []
                  version: balena-supervisor-14.11.5
                  title: ""
                  date: 2023-06-19T19:01:19.323Z
                - commits:
                    - subject: Specify fs type when mounting partitions to prevent "Can't open
                        blockdev" warnings
                      hash: e6662f664c15a16e4f36fa128510c5367b20a09f
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Christina Ying Wang <christina@balena.io>
                        signed-off-by: Christina Ying Wang <christina@balena.io>
                      author: Christina Ying Wang
                      nested: []
                  version: balena-supervisor-14.11.4
                  title: ""
                  date: 2023-06-19T07:56:33.558Z
          version: meta-balena-2.115.12
          title: ""
          date: 2023-06-23T09:04:04.118Z
  version: 2.115.12
  title: ""
  date: 2023-06-23T11:04:46.383Z
- commits:
    - subject: Update layers/meta-balena to 2d298dfd21cc69271a25642a74608ff39c9ca33f
      hash: 3b20e8a12f6b7f5b4d2bb0094129e65273a1fe92
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to 2d298dfd21cc69271a25642a74608ff39c9ca33f
        changelog-entry: Update layers/meta-balena to 2d298dfd21cc69271a25642a74608ff39c9ca33f
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update tests/leviathan digest to 09eff9c
              hash: 7826281aa5efacde91b68ee468a65d0cf12a56cd
              body: Update tests/leviathan
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested:
                - commits:
                    - subject: Update balena-os/leviathan-worker to v2.9.7
                      hash: 2c1ab4511f9c1f65460ac182527b99a25681a27e
                      body: |
                        Update balena-os/leviathan-worker from 2.9.6 to 2.9.7
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Self-hosted Renovate Bot
                      nested: []
                  version: leviathan-2.27.6
                  title: ""
                  date: 2023-06-19T15:04:05.885Z
                - commits:
                    - subject: "tests: only do serial file read with testbot"
                      hash: a947d2a02aed6125d3ec406152c7ee2d670ee2aa
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Ryan Cooke <ryan@balena.io>
                        signed-off-by: Ryan Cooke <ryan@balena.io>
                      author: rcooke-warwick
                      nested: []
                    - subject: "core: enable serial executeCommandinHostOS"
                      hash: 95d11c34f427479c5adee718029169af3db3e68c
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Ryan Cooke <ryan@balena.io>
                        signed-off-by: Ryan Cooke <ryan@balena.io>
                      author: rcooke-warwick
                      nested: []
                  version: leviathan-2.27.5
                  title: ""
                  date: 2023-06-19T13:36:32.892Z
                - commits:
                    - subject: Update alpine Docker tag to v3.18.2
                      hash: a25d1904ff9ecc703d5b5ed17253bf7c153b1083
                      body: |
                        Update alpine from 3.18.0 to 3.18.2
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Self-hosted Renovate Bot
                      nested: []
                  version: leviathan-2.27.4
                  title: ""
                  date: 2023-06-16T12:09:58.840Z
                - commits:
                    - subject: Update core/contracts digest to c777910
                      hash: 4e53b2c01825ba15b9da03b3d76c8b19da7d4a94
                      body: |
                        Update core/contracts
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Self-hosted Renovate Bot
                      nested: []
                  version: leviathan-2.27.3
                  title: ""
                  date: 2023-06-16T11:05:22.184Z
                - commits:
                    - subject: 'patch: Revert "minor: Add Leviathan Test Helpers"'
                      hash: 691f2b21428bc9920c2bf03f982e3f1e2b6963fd
                      body: ""
                      footer: {}
                      author: Vipul Gupta
                      nested: []
                  version: leviathan-2.27.2
                  title: ""
                  date: 2023-06-16T09:59:06.250Z
                - commits:
                    - subject: Update Pin dependencies
                      hash: 1a8858c782269f69ae99a3984eeaa4f91d70efe9
                      body: |
                        Pin actions/checkout
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Self-hosted Renovate Bot
                      nested: []
                  version: leviathan-2.27.1
                  title: ""
                  date: 2023-06-09T16:29:10.820Z
          version: meta-balena-2.115.11
          title: ""
          date: 2023-06-21T14:16:09.680Z
  version: 2.115.11
  title: ""
  date: 2023-06-21T16:05:56.515Z
- commits:
    - subject: Update layers/meta-balena to f420c91e38843f5cf9b3f68122ee8cb71f9f605f
      hash: 3a223a46e1e70436ed266b15910fed1f94ae1c64
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to f420c91e38843f5cf9b3f68122ee8cb71f9f605f
        changelog-entry: Update layers/meta-balena to f420c91e38843f5cf9b3f68122ee8cb71f9f605f
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: "resin-init-flasher: Format encrypted partitions as LUKS2"
              hash: 9e01a5d485ee93975b531b9dbd304db9b73de3fa
              body: >
                This should be the default but with no explicit argument we
                still

                end up with LUKS1 partitions. This patch adds the parameter to enforce

                LUKS2 formatting and adds conversion to LUKS2 to the cryptsetup

                initrd script.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.115.10
          title: ""
          date: 2023-06-21T05:08:09.995Z
  version: 2.115.10
  title: ""
  date: 2023-06-21T05:56:31.626Z
- commits:
    - subject: Update balena-yocto-scripts to 91474e62b74d6390c285d1033b34f77092fe1824
      hash: faab35c9fefac80d6352339b4fce0e4765fd48c2
      body: Update balena-yocto-scripts
      footer:
        Changelog-entry: Update balena-yocto-scripts to 91474e62b74d6390c285d1033b34f77092fe1824
        changelog-entry: Update balena-yocto-scripts to 91474e62b74d6390c285d1033b34f77092fe1824
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: "balena-deploy: Newer meta-balena do not create a kernel_source
                tarball"
              hash: 62660e16161c559653dd2c32196ab94631753ce5
              body: |
                This artifact did not contain kernel sources since Yocto Thud.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: balena-yocto-scripts-1.19.32
          title: ""
          date: 2023-06-19T18:06:35.539Z
  version: 2.115.9+rev1
  title: ""
  date: 2023-06-19T20:12:20.591Z
- commits:
    - subject: Update layers/meta-balena to 4a9a1b6ce3abacf025fe01b5b4292be2f791c13b
      hash: 38245b86d56bad7fe2afaac33e6f48a6c6a17ef0
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to 4a9a1b6ce3abacf025fe01b5b4292be2f791c13b
        changelog-entry: Update layers/meta-balena to 4a9a1b6ce3abacf025fe01b5b4292be2f791c13b
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update balena-supervisor to v14.11.3
              hash: 1d9f52fee5040b952077846bef79ea99bdf465e0
              body: |
                Update balena-supervisor from 14.11.2 to 14.11.3
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested:
                - commits:
                    - subject: Update balena-io/deploy-to-balena-action to v0.27.0
                      hash: 1675c16622d861ce6e6e445400b5440a447688f7
                      body: |
                        Update balena-io/deploy-to-balena-action
                      footer:
                        Change-type: patch
                        change-type: patch
                        Changelog-entry: Update balena-io/deploy-to-balena-action to v0.27.0
                        changelog-entry: Update balena-io/deploy-to-balena-action to v0.27.0
                      author: Self-hosted Renovate Bot
                      nested: []
                  version: balena-supervisor-14.11.3
                  title: ""
                  date: 2023-06-15T19:49:42.493Z
          version: meta-balena-2.115.9
          title: ""
          date: 2023-06-15T23:43:34.815Z
  version: 2.115.9
  title: ""
  date: 2023-06-16T01:35:58.399Z
- commits:
    - subject: Update contracts to c777910763b2476da6648200ab00629755b24da2
      hash: 206a30113eead39678e6c3a30ca43e3772892cd8
      body: Update contracts
      footer:
        Changelog-entry: Update contracts to c777910763b2476da6648200ab00629755b24da2
        changelog-entry: Update contracts to c777910763b2476da6648200ab00629755b24da2
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: "hw/device-type: Update contract.json for iot-gate-imx8"
              hash: 295b0d72700669fa48289117cbb90dca7f6bf882
              body: >
                To specify that the iot-gate-imx8 doesn't have an identification
                LED
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
          version: contracts-2.0.61
          title: ""
          date: 2023-06-14T13:53:16.158Z
  version: 2.115.8+rev1
  title: ""
  date: 2023-06-14T17:30:41.735Z
- commits:
    - subject: Update layers/meta-balena to 9760ab707b5c48d9a67ccacee61eacb063e14ac0
      hash: 1267bc1301dd6e8a56a4899fb18b574998d0a1c0
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to 9760ab707b5c48d9a67ccacee61eacb063e14ac0
        changelog-entry: Update layers/meta-balena to 9760ab707b5c48d9a67ccacee61eacb063e14ac0
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: "balena_check_crc: Add helper u-boot command for crc manipulation"
              hash: 770cbdbb2c961a06dfb887b0898cae362e680947
              body: |
                This helper command saves and compares crc32 sum for a memory
                area where the kernel image or the device-tree is loaded.

                Can be used after loading the kernel and the dtb, and also prior
                to calling booti.
              footer:
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
                Change-type: patch
                change-type: patch
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.115.8
          title: ""
          date: 2023-06-14T12:41:03.634Z
  version: 2.115.8
  title: ""
  date: 2023-06-14T14:38:39.024Z
- commits:
    - subject: Update layers/meta-balena to d6546982c2e7777336a00b4d7e289cadc3efb714
      hash: 98fc61b3229602d6919db8f519304941e6800aae
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to d6546982c2e7777336a00b4d7e289cadc3efb714
        changelog-entry: Update layers/meta-balena to d6546982c2e7777336a00b4d7e289cadc3efb714
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: "README: Add bootloader section"
              hash: c27e2989052871033c414bed5042948da91533de
              body: |
                with info on how u-boot, grub, cboot and
                UEFI L4TLauncher are used in balenaOS.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.115.7
          title: ""
          date: 2023-06-09T13:09:46.102Z
  version: 2.115.7
  title: ""
  date: 2023-06-09T15:10:45.613Z
- commits:
    - subject: Update layers/meta-balena to 92a2e312bc49b6c35402efc528b035a66d9969ef
      hash: cdf6ede1a86ade3ba85f1bd19dbf4f62016cdb55
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to 92a2e312bc49b6c35402efc528b035a66d9969ef
        changelog-entry: Update layers/meta-balena to 92a2e312bc49b6c35402efc528b035a66d9969ef
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update tests/leviathan digest to 62e4099
              hash: c1931cf32a8f884c2ebe73e2558afef558a39c9a
              body: Update tests/leviathan
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested:
                - commits:
                    - subject: Update alpine Docker tag to v3.18.0
                      hash: 17174d8a1f5e61e03ccd71bc0dd1c3247cc33b79
                      body: |
                        Update alpine from 3.17.3 to 3.18.0
                      footer:
                        Change-type: minor
                        change-type: minor
                      author: Self-hosted Renovate Bot
                      nested: []
                  version: leviathan-2.27.0
                  title: ""
                  date: 2023-05-29T22:58:52.645Z
                - commits:
                    - subject: Update core/contracts digest to fd4af4e
                      hash: 7b44fe1af6900656ec56a52122d7f61f39e494c8
                      body: |
                        Update core/contracts
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Self-hosted Renovate Bot
                      nested: []
                  version: leviathan-2.26.1
                  title: ""
                  date: 2023-05-29T21:57:30.744Z
                - commits:
                    - subject: Update balena-cli to v16.1.0 with arm64 binaries
                      hash: 6ee61795d23f48be83fd9404835e9641d8c65271
                      body: ""
                      footer:
                        Change-type: minor
                        change-type: minor
                        Signed-off-by: Kyle Harding <kyle@balena.io>
                        signed-off-by: Kyle Harding <kyle@balena.io>
                      author: Kyle Harding
                      nested: []
                  version: leviathan-2.26.0
                  title: ""
                  date: 2023-05-29T08:42:40.808Z
          version: meta-balena-2.115.6
          title: ""
          date: 2023-06-08T15:22:38.847Z
  version: 2.115.6
  title: ""
  date: 2023-06-08T17:06:48.648Z
- commits:
    - subject: Update balena-yocto-scripts to e9f9ef5b729ac01f0b8efe0a16187fbb00d0bf54
      hash: 9d213a76736d797cee2063e91f7343e6f264008a
      body: Update balena-yocto-scripts
      footer:
        Changelog-entry: Update balena-yocto-scripts to e9f9ef5b729ac01f0b8efe0a16187fbb00d0bf54
        changelog-entry: Update balena-yocto-scripts to e9f9ef5b729ac01f0b8efe0a16187fbb00d0bf54
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: "balena-deploy: add a compressed licenses tarball to the deploy
                artifacts"
              hash: 13ab5d114a679cca3a2df41230e4ad611e1c8292
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: balena-yocto-scripts-1.19.31
          title: ""
          date: 2023-06-05T15:07:23.610Z
  version: 2.115.5+rev1
  title: ""
  date: 2023-06-08T14:19:01.801Z
- commits:
    - subject: Update layers/meta-balena to 7c31e98312e50f7cc6380b00701c6ed8ff3da216
      hash: 895d651aadaf4b522ebce72dce48cba47e681ef8
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to 7c31e98312e50f7cc6380b00701c6ed8ff3da216
        changelog-entry: Update layers/meta-balena to 7c31e98312e50f7cc6380b00701c6ed8ff3da216
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update balena-supervisor to v14.11.2
              hash: e1361fa5dc3f18733cb07b24ad9e6aaa0f5984e4
              body: |
                Update balena-supervisor from 14.11.1 to 14.11.2
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested:
                - commits:
                    - subject: Handle Engine-host race condition for "always" and "unless-stopped"
                        restart policy
                      hash: 7f3214195838a8bf3242ef7540b4487338687e4c
                      body: >
                        There exists a race condition between Engine and a host
                        resource that may not

                        be immediately created. In this race condition, if a container's compose config

                        depends on the existence of that host resource, such as a network interface, and the

                        Engine tries to create & start the container before the host resource is created, the

                        Engine will not reattempt to start the container, regardless of the restart policy.

                        This is undesireable behavior but seems to be the behavior as implemented by Docker.


                        To rectify this, the Supervisor state funnel noops for a grace period of 1 minute

                        after starting a container to see that the container's status has become 'running`.

                        If the container exits because of the race condition, the status becomes 'exited' and the

                        Supervisor will attempt to generate another start step. This noop-wait-start step loop

                        will repeat until the container is able to start.


                        If the container is never able to start, there was a problem in the host in the creation of the

                        host resource, and that should be fixed at the host level.


                        This commit does not handle the case of services with restart policies "no" or "on-failure"

                        which encounter this host race, as metadata from container inspects needs to be introduced

                        during step calculation in order to figure out whether services with those restart policies

                        need to be started. This will be fixed in a future PR.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Christina Ying Wang <christina@balena.io>
                        signed-off-by: Christina Ying Wang <christina@balena.io>
                      author: Christina Ying Wang
                      nested: []
                  version: balena-supervisor-14.11.2
                  title: ""
                  date: 2023-06-05T18:53:18.287Z
          version: meta-balena-2.115.5
          title: ""
          date: 2023-06-08T10:17:55.709Z
    - subject: Remove pull_request_target event run for ESR targets
      hash: 421fbac1dc3549d3da7ffb7b4af209dad5681919
      body: >
        Backporting to ESR branches hits a flowzone error as both pull_request

        and pull_request_target run and this only works for master.


        Removing the pull_request_target run for ESR branches fixes this, but

        also removes the possibility of external pull requests into ESR branches,

        which we don't actually need.


        [skip ci]
      footer:
        Changelog-entry: Remove pull_request_target event run for ESR targets
        changelog-entry: Remove pull_request_target event run for ESR targets
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.115.5
  title: ""
  date: 2023-06-08T13:06:36.741Z
- commits:
    - subject: Update layers/meta-balena to f06ec1fc32f6c5baa0c734eaf9e94ee88f7993bb
      hash: 6673c3c4f1d189674a0a6c20e0cbc76f4ffcfa9b
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to f06ec1fc32f6c5baa0c734eaf9e94ee88f7993bb
        changelog-entry: Update layers/meta-balena to f06ec1fc32f6c5baa0c734eaf9e94ee88f7993bb
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: "docs: Make secure boot docs more detailed"
              hash: 96ec764b245197380d58a556949011ab444ce96e
              body: >
                This patch extends secure boot documentation with more details
                about

                how the feature works and tries to explain why some decisions were made.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.115.4
          title: ""
          date: 2023-06-01T09:37:58.007Z
  version: 2.115.4
  title: ""
  date: 2023-06-01T12:39:00.260Z
- commits:
    - subject: Update balena-os/github-workflows to
      hash: 855c45df89466cf929960d6bfd9b3a8062b029f4
      body: Update balena-os/github-workflows
      footer:
        Changelog-entry: Update balena-os/github-workflows to
        changelog-entry: Update balena-os/github-workflows to
      author: Self-hosted Renovate Bot
      nested: []
  version: 2.115.3+rev1
  title: ""
  date: 2023-05-31T08:45:22.848Z
- commits:
    - subject: Update layers/meta-balena to 60cfd8a3761501274de5f189fd8d52dd75cfbe42
      hash: f2aab5fc0261e3e906551d84527b112de8420f4d
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to 60cfd8a3761501274de5f189fd8d52dd75cfbe42
        changelog-entry: Update layers/meta-balena to 60cfd8a3761501274de5f189fd8d52dd75cfbe42
      author: Renovate Bot
      nested:
        - commits:
            - subject: "resin-init-flasher: check that commands exist before calling"
              hash: 6782f81954dd6e5ca6e848603ea0153ded2f7dd0
              body: >
                When running in the initramfs, the resin-device-progress package
                is not

                installed as we cannot guarantee that the initramfs would be able to

                bring up all types of network interfaces.


                This commit adds a check for the script to exists instead of getting a

                `command not found` when an API endpoint is defined.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.115.3
          title: ""
          date: 2023-05-29T14:28:02.605Z
        - commits:
            - subject: "os-helpers: do not fail build if API tests fail"
              hash: 933f265da4a6919183a28d6ca8e0cfb0f1811fee
              body: >
                The purpose of testing the API calls is to detect breaking
                changes, not

                to fail builds because of temporary network or API access problems.


                Printing a warning instead should be enough for developers to detect

                breaking changes.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.115.2
          title: ""
          date: 2023-05-28T13:40:24.584Z
  version: 2.115.3
  title: ""
  date: 2023-05-29T22:29:26.814Z
- commits:
    - subject: Update balena-yocto-scripts to f2a164e0acaaa66795d5f31af248f1743dd0ffb7
      hash: 1516920a09568335687c7bddc601bc34b2b87569
      body: Update balena-yocto-scripts
      footer:
        Changelog-entry: Update balena-yocto-scripts to f2a164e0acaaa66795d5f31af248f1743dd0ffb7
        changelog-entry: Update balena-yocto-scripts to f2a164e0acaaa66795d5f31af248f1743dd0ffb7
      author: Renovate Bot
      nested:
        - commits:
            - subject: "generate_ami: opt-in secure boot when using signed images"
              hash: 7925369a76060ad9e2adb16856e78cd3ca09b02c
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-generate-ami: comply with default AMI quotas"
              hash: 27d34aa2a35b0bf6d7c1ffb563c1ad65d773e1fc
              body: >
                Comply with AWS public AMI quota, taking into account we have
                two

                architectures that publish AMI images and we need free slots for custom

                version request.


                Make the oldest public image back to private before publishing a new image.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: balena-yocto-scripts-1.19.30
          title: ""
          date: 2023-05-23T18:02:32.156Z
  version: 2.115.1+rev2
  title: ""
  date: 2023-05-23T19:10:11.921Z
- commits:
    - subject: Update balena-yocto-scripts to 063493eb51bbaecce4fde37f6fe042bfdc647b71
      hash: 079acbcd558efc7da78241858e4b8d3f09e4bd98
      body: Update balena-yocto-scripts
      footer:
        Changelog-entry: Update balena-yocto-scripts to 063493eb51bbaecce4fde37f6fe042bfdc647b71
        changelog-entry: Update balena-yocto-scripts to 063493eb51bbaecce4fde37f6fe042bfdc647b71
      author: Renovate Bot
      nested:
        - commits:
            - subject: "balena-deploy: add secureBoot feature into contract"
              hash: 67e694d63918e9911de99f497c39d84dfef28df7
              body: >
                When building signed images, add the secureBoot feature flag
                into the

                OS contract. This is needed for other components to identify secureBoot

                compatible software releases.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: balena-yocto-scripts-1.19.29
          title: ""
          date: 2023-05-19T11:42:58.818Z
  version: 2.115.1+rev1
  title: ""
  date: 2023-05-19T14:06:17.037Z
- commits:
    - subject: Update layers/meta-balena to 5bf3a7b37f4e33264629144c9bf355b4d81c1dee
      hash: 5091b2ae9fccb817f405628ff2bbb01f34ea4641
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to 5bf3a7b37f4e33264629144c9bf355b4d81c1dee
        changelog-entry: Update layers/meta-balena to 5bf3a7b37f4e33264629144c9bf355b4d81c1dee
      author: Renovate Bot
      nested:
        - commits:
            - subject: "tests: config: set both network options to false"
              hash: 3715edcd98aaadb983419d6389d666c10391afc9
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
            - subject: "tests: hup: use contract to configure network"
              hash: c054e184f2dd96c9c878008d9f16d96928e5dff3
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
            - subject: "tests: cloud: use contract to configure network"
              hash: 5c81d124453159a6bb7374a68d27275bb1141fa0
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
            - subject: "tests: os: use contract to configure network"
              hash: 81c0c7c5df0727df3979db20a6a4a6b00c82b12a
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: meta-balena-2.115.1
          title: ""
          date: 2023-05-17T08:32:52.294Z
  version: 2.115.1
  title: ""
  date: 2023-05-17T10:40:34.156Z
- commits:
    - subject: Update layers/meta-balena to e86e103292e67dda18ca243e46721e65cd89c577
      hash: c8755f7da7bf46239af887b317331ff091d5d9c4
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to e86e103292e67dda18ca243e46721e65cd89c577
        changelog-entry: Update layers/meta-balena to e86e103292e67dda18ca243e46721e65cd89c577
      author: Renovate Bot
      nested:
        - commits:
            - subject: Update balena-supervisor to v14.11.1
              hash: 1222c7adec29b958dec4277ea5b716cad3f6a9b1
              body: |
                Update balena-supervisor from 14.10.10 to 14.11.1
              footer:
                Change-type: minor
                change-type: minor
              author: Renovate Bot
              nested:
                - commits:
                    - subject: Fix `sw.arch` typo when testing contracts
                      hash: 2758e190b28ea07d5b40daaa9e59434f2bfc28e9
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-14.11.1
                  title: ""
                  date: 2023-05-11T22:07:32.863Z
                - commits:
                    - subject: Add `arch.sw` to the valid container requirements
                      hash: 8656bd62f705624a5cb02a0b0677888b21dd4627
                      body: ""
                      footer:
                        Change-type: minor
                        change-type: minor
                      author: Felipe Lalanne
                      nested: []
                    - subject: Allow using slug to validate hw.device-type contract
                      hash: f1f09e0e27b1b538d0ca806cd1bb167303d65779
                      body: >
                        This also adds the hw.device-type test case to the unit
                        tests.
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                    - subject: Simplify and move lib/contract.spec.ts to tests/unit
                      hash: a884a58b4cdbc9e06be01929138b4973e5e8ffd9
                      body: >
                        Improve contract tests to remove dependence on stubs and
                        unnecessary

                        system calls.
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-14.11.0
                  title: ""
                  date: 2023-05-10T12:39:14.767Z
                - commits:
                    - subject: Add information about hdmi port 2 config vars
                      hash: d5cc8238cbe7218d318cf1ce0375ab649a4495c6
                      body: >
                        Support for colon characters was added v14.6.0 which
                        enabled

                        configurations for HDMI port 2 (e.g on the RPi 4). These configurations

                        are not documented anywhere else so this allows users to be able to

                        better find the relevant information for working with HDMI.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Relates-to: "#2090"
                        relates-to: "#2090"
                      author: Felipe Lalanne
                      nested: []
                    - subject: Update table formatting on configurations.md
                      hash: ba39cf539ef381f6cb80f81408f8e4571fd61179
                      body: |
                        For better readability on text editor
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-14.10.11
                  title: ""
                  date: 2023-05-08T20:35:26.833Z
          version: meta-balena-2.115.0
          title: ""
          date: 2023-05-12T21:42:33.085Z
  version: 2.115.0
  title: ""
  date: 2023-05-12T22:43:13.857Z
- commits:
    - subject: Update layers/meta-balena to 39982e107a500e0ebdacfd0d5ae33576cf2e24b4
      hash: 8b9efe089297d6a1bf0ab36b9f700d4330c56269
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to 39982e107a500e0ebdacfd0d5ae33576cf2e24b4
        changelog-entry: Update layers/meta-balena to 39982e107a500e0ebdacfd0d5ae33576cf2e24b4
      author: Renovate Bot
      nested:
        - commits:
            - subject: "tests: hup: enable boot-switch skip"
              hash: f8f0b66b5a9d9f93c61f19f6998a57a7214ffe3a
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
            - subject: "tests: cloud: enable boot-switch skip Commit body"
              hash: 9a724ff741b0ad0f873b031108535f3cf4e99b15
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
            - subject: "tests: os: enable boot-switch skip"
              hash: 25094a479849cccf743c97f55f81a5c8dff17933
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: meta-balena-2.114.25
          title: ""
          date: 2023-05-12T17:21:39.646Z
  version: 2.114.25
  title: ""
  date: 2023-05-12T19:22:24.824Z
- commits:
    - subject: Update layers/meta-balena to d0b1a5a80c691e752dd5b396ce7da995507dd619
      hash: 06200e928e086e2b120b4d2398e810db8846ba11
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to d0b1a5a80c691e752dd5b396ce7da995507dd619
        changelog-entry: Update layers/meta-balena to d0b1a5a80c691e752dd5b396ce7da995507dd619
      author: Renovate Bot
      nested:
        - commits:
            - subject: "resin-init-flasher: add more comments around efi/boot partition split"
              hash: 63663b30f8962be8b6d8070340fe89e435f8915b
              body: |
                This is hard to follow when reading the code without context.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: "resin-init-flasher: reboot into signed flasher when provisioning
                secure boot"
              hash: ceedc55646898e4eacb840f89710f39c58674323
              body: >
                When programming keys for secure boot, some devices do not clear

                the setup mode flag after a new PK is installed. In this case

                flasher will reboot in order to ensure the keys are actually saved

                and the device comes back with secure boot enabled. Since we changed

                flasher to be unsigned by default, this reboot causes a security

                violation.


                With this patch flasher will add a new boot entry before issuing

                the reboot so that signed flasher comes up and the installation process

                can continue.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: "resin-init-flasher: Fill db EFI variable from esl file instead of
                auth"
              hash: d1e045b826c48168d75163cf9bb9fb1a387ed4f2
              body: >
                Currently the db.auth file is signed as "append" in order to
                make HUP work.

                Most UEFI firmwares will accept such file even for "replace", which we do

                during the initial provisioning, however we have seen devices that will

                only allow appending, which makes flasher fail.


                With this patch flasher will use the esl file for initial programming

                of the db variable.


                PK and KEK are unaffected.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.114.24
          title: ""
          date: 2023-05-11T20:31:43.765Z
  version: 2.114.24
  title: ""
  date: 2023-05-11T22:19:03.671Z
- commits:
    - subject: Update layers/meta-balena to 3f2f215e39c39fc3ef227db665c99fb8ad77ee08
      hash: 1f90cc5db4b6e2e7fe34b48c428df501db2649a6
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to 3f2f215e39c39fc3ef227db665c99fb8ad77ee08
        changelog-entry: Update layers/meta-balena to 3f2f215e39c39fc3ef227db665c99fb8ad77ee08
      author: Renovate Bot
      nested:
        - commits:
            - subject: "tests: suites: remove default migration force configuration"
              hash: 6cbb6a983574158cb8531b24e3baeff8518ebe1a
              body: |
                Instead we will configure this on specific Jenkins jobs.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "resin-init-flasher: avoid partition labels clashes"
              hash: 6af87bf9a3cae40ab7b9cad844b8ed71f6d004f8
              body: >
                When using labels to mount partitions, restrict it to a specific
                drive

                to avoid clashes.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "initrdscripts: recovery: set adb default timeouts in minutes"
              hash: ecb720889cc870670b2e683913f28251f7ccbd88
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "tests: move installerForceMigration suite configuration to balenaOS
                section"
              hash: 020f7da433b0743e5c045239a24e3ed00445b8dc
              body: >
                The balenaOS section is the logical place for this configuration
                to be.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "tests: simplify accessing config.json data"
              hash: 831c12fd9bd49fec048cb20509fe5ac6255e8da8
              body: |
                There is no longer need to go through the context for this.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.114.23
          title: ""
          date: 2023-05-06T19:31:19.959Z
  version: 2.114.23
  title: ""
  date: 2023-05-06T22:20:34.088Z
- commits:
    - subject: Update balena-yocto-scripts to 57226ffa5abafc3001cb275ad6520895c938842a
      hash: a3c171b60e8f1e88d914132fab8147377760c7c3
      body: Update balena-yocto-scripts
      footer:
        Changelog-entry: Update balena-yocto-scripts to 57226ffa5abafc3001cb275ad6520895c938842a
        changelog-entry: Update balena-yocto-scripts to 57226ffa5abafc3001cb275ad6520895c938842a
      author: Renovate Bot
      nested:
        - commits:
            - subject: "jenkins_build: accept bitbake extra arguments"
              hash: 6847515a46b62726e24156f6ce05365dd4f00ea8
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: balena-yocto-scripts-1.19.28
          title: ""
          date: 2023-05-06T15:44:43.740Z
  version: 2.114.22+rev1
  title: ""
  date: 2023-05-06T17:19:51.784Z
- commits:
    - subject: Update layers/meta-balena to ddaac0ccf50d22ac8d0ed6c73022edd40c68b58e
      hash: f77fcc183258a4eed1e79bac8d835da296ed34b8
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to ddaac0ccf50d22ac8d0ed6c73022edd40c68b58e
        changelog-entry: Update layers/meta-balena to ddaac0ccf50d22ac8d0ed6c73022edd40c68b58e
      author: Renovate Bot
      nested:
        - commits:
            - subject: Update balena-engine to v20.10.36
              hash: 192ab1d65bcfb50495378f0b7a1481827cc1ae10
              body: |
                Update balena-engine from 20.10.35 to 20.10.36
              footer:
                Change-type: patch
                change-type: patch
              author: Renovate Bot
              nested:
                - commits:
                    - subject: Further improve resilience of image pulls
                      hash: d864e340bfe050144252db8b0de9c66a3a40fa20
                      body: >
                        Previously, we'd time-out a pull operation after
                        unsuccessfully retrying

                        for about 17 minutes (for details see commit

                        582487f832c59c2f734a780ab0492833f29002c9). This worked fine in most

                        situations, but we have seen at least one case of a particularly

                        unreliable network connection that would not be able to finish a large

                        pull when operating under this policy.


                        This commit:


                        * Completely removes timeouts from image pulls. We'll keep retrying
                          forever, or until users cancel the pull. (From the perspective of the
                          REST API, "canceling" mean closing the HTTP connection. This is what
                          happens when a user Ctrl+C during a pull in the CLI, or, say, we kill
                          a curl process that was using the REST API to pull image.)
                        * Still uses exponential back-off, but we now limit the interval between
                          retries to 5 minutes. The rationale is that some very unreliable
                          networks may be up only for relatively small time windows. Therefore,
                          using intervals that are too long would increase the risk of missing
                          these windows.
                        * Tries to avoid flooding the log stream with messages about retries.
                          We'll log every retry attempt up to the 10th. After that, we'll log
                          retries only once about every 2h. This retry count is reset every time
                          we successfully download any amount of data.
                      footer:
                        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        Change-type: patch
                        change-type: patch
                      author: Leandro Motta Barros
                      nested: []
                  version: balena-engine-20.10.36
                  title: ""
                  date: 2023-05-04T10:15:21.705Z
          version: meta-balena-2.114.22
          title: ""
          date: 2023-05-05T07:14:09.662Z
  version: 2.114.22
  title: ""
  date: 2023-05-05T09:14:55.641Z
- commits:
    - subject: Update layers/meta-balena to 0f0fec2a68746d8616cc55a06cf636363786bdca
      hash: 169616c37b235cd5754002fb3a9112a30706798c
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to 0f0fec2a68746d8616cc55a06cf636363786bdca
        changelog-entry: Update layers/meta-balena to 0f0fec2a68746d8616cc55a06cf636363786bdca
      author: Renovate Bot
      nested:
        - commits:
            - subject: Update tests/leviathan digest to 256b844
              hash: e9c98147c26054bff79cd5dee1638a3ba4c2d611
              body: Update tests/leviathan
              footer:
                Change-type: patch
                change-type: patch
              author: Renovate Bot
              nested:
                - commits:
                    - subject: "suite: move installer configuration to balenaOS configuration section"
                      hash: 342f30a9f5665ac70fcc648af28e6751c50c6ef5
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Alex Gonzalez <alexg@balena.io>
                        signed-off-by: Alex Gonzalez <alexg@balena.io>
                      author: Alex Gonzalez
                      nested: []
                  version: leviathan-2.25.6
                  title: ""
                  date: 2023-05-04T10:24:35.420Z
          version: meta-balena-2.114.21
          title: ""
          date: 2023-05-05T02:33:12.010Z
  version: 2.114.21
  title: ""
  date: 2023-05-05T04:14:00.359Z
- commits:
    - subject: Update layers/meta-balena to e2ce4a7a054624967941f4b96500b5bb79c36d1e
      hash: a2db4486e366270f11eba9b5a9fb329ab8e23c79
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to e2ce4a7a054624967941f4b96500b5bb79c36d1e
        changelog-entry: Update layers/meta-balena to e2ce4a7a054624967941f4b96500b5bb79c36d1e
      author: Renovate Bot
      nested:
        - commits:
            - subject: Updated the CDS link
              hash: c3614eaa6e757f6e8276f87ecefc1af4d0314150
              body: Updated CDS link to the balena.io subdomain one
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Hampton (@rhampt) <rhampt@balena.io>
                signed-off-by: Ryan Hampton (@rhampt) <rhampt@balena.io>
              author: Ryan
              nested: []
          version: meta-balena-2.114.20
          title: ""
          date: 2023-05-04T22:20:34.357Z
  version: 2.114.20
  title: ""
  date: 2023-05-05T00:13:44.610Z
- commits:
    - subject: Update contracts to fd4af4e5694608cc0c87d9bff2a5b27b2c5f2f39
      hash: 38f298a0e600d43e799ff3c59d93b5048ac1d439
      body: Update contracts
      footer:
        Changelog-entry: Update contracts to fd4af4e5694608cc0c87d9bff2a5b27b2c5f2f39
        changelog-entry: Update contracts to fd4af4e5694608cc0c87d9bff2a5b27b2c5f2f39
      author: Renovate Bot
      nested:
        - commits:
            - subject: Fix LED support for ISG-503
              hash: 8c779e12dbb16892528af17d8749cff1902146ad
              body: >
                The LED support was incorrectly changed in
                https://github.com/balena-io/contracts/commit/4bb6eb1f732957e605f00e47b068199f14ff1765

                Let's switch it back to unsupported. 
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
          version: contracts-2.0.60
          title: ""
          date: 2023-05-04T13:38:26.884Z
  version: 2.114.19+rev1
  title: ""
  date: 2023-05-04T14:26:42.749Z
- commits:
    - subject: Update layers/meta-balena to 35a34d76f441fe37ea3d2cbd911558973fdec30c
      hash: 424ade26a195a289cab9569def20032fe7d69555
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to 35a34d76f441fe37ea3d2cbd911558973fdec30c
        changelog-entry: Update layers/meta-balena to 35a34d76f441fe37ea3d2cbd911558973fdec30c
      author: Renovate Bot
      nested:
        - commits:
            - subject: Update tests/leviathan digest to e6180e9
              hash: 315d127dc824089da1eb4392c7d8361bbbbd3766
              body: Update tests/leviathan
              footer:
                Change-type: patch
                change-type: patch
              author: Renovate Bot
              nested:
                - commits:
                    - subject: Update core/contracts digest to 75cd5e9
                      hash: 6b45662a5ec0dde4d499ecaf7a4ef3d119e626c6
                      body: |
                        Update core/contracts
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Renovate Bot
                      nested: []
                  version: leviathan-2.25.5
                  title: ""
                  date: 2023-05-03T11:00:17.452Z
                - commits:
                    - subject: Update balena-os/leviathan-worker to v2.9.6
                      hash: b5bf6d376cfe1f99eb55f4ed7f8b179205dfacf0
                      body: |
                        Update balena-os/leviathan-worker from 2.9.4 to 2.9.6
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Renovate Bot
                      nested: []
                  version: leviathan-2.25.4
                  title: ""
                  date: 2023-05-01T19:03:59.596Z
                - commits:
                    - subject: Update core/contracts digest to 6c6ed28
                      hash: 940ba252779573f7dcef0b99d163de94ca934e3d
                      body: |
                        Update core/contracts
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Renovate Bot
                      nested: []
                  version: leviathan-2.25.3
                  title: ""
                  date: 2023-05-01T18:07:18.096Z
                - commits:
                    - subject: "suite: add installerForceMigration configuration"
                      hash: 70674774a7652a9e7766710bc74a829cd1156aa0
                      body: >
                        Read the suite configuration for the force migration
                        flag which configures

                        the flasher image to force an installer migration.


                        With the current QEMU setting, `installerForceMigration` alone is not

                        enough and the QEMU_INTERNAL_STORAGE also needs to be set to false in

                        the worker's environment so only a single external disk is attached to

                        the emulator.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Alex Gonzalez <alexg@balena.io>
                        signed-off-by: Alex Gonzalez <alexg@balena.io>
                      author: Alex Gonzalez
                      nested: []
                  version: leviathan-2.25.2
                  title: ""
                  date: 2023-04-26T12:24:07.524Z
                - commits:
                    - subject: Update balena-os/leviathan-worker to v2.9.4
                      hash: 669aa2e1cb3ebc3286483912981eac3a25a9b7e0
                      body: |
                        Update balena-os/leviathan-worker from 2.9.2 to 2.9.4
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Renovate Bot
                      nested: []
                  version: leviathan-2.25.1
                  title: ""
                  date: 2023-04-25T18:48:00.802Z
                - commits:
                    - subject: Update Node.js to v18.16.0
                      hash: 2f2d14f3919f306c1ff3add08caff08ee7b7a8e9
                      body: |
                        Update node from 18.13.0 to 18.16.0
                      footer:
                        Change-type: minor
                        change-type: minor
                      author: Renovate Bot
                      nested: []
                  version: leviathan-2.25.0
                  title: ""
                  date: 2023-04-20T23:53:28.826Z
                - commits:
                    - subject: Update alpine Docker tag to v3.17.3
                      hash: 0b2f18af6469d216a003c2ac8078b035064160cc
                      body: |
                        Update alpine from 3.17.1 to 3.17.3
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Renovate Bot
                      nested: []
                  version: leviathan-2.24.5
                  title: ""
                  date: 2023-04-20T22:45:55.982Z
                - commits:
                    - subject: Update core/contracts digest to 777cd35
                      hash: 997f3e27ac0dc6143f5dc7371078e8e3b5e796ae
                      body: |
                        Update core/contracts
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Renovate Bot
                      nested: []
                  version: leviathan-2.24.4
                  title: ""
                  date: 2023-04-20T21:54:11.743Z
                - commits:
                    - subject: Update balena-os/leviathan-worker to v2.9.2
                      hash: 6028bb0b206db9fbb4b796058867e3496af54cbd
                      body: |
                        Update balena-os/leviathan-worker from 2.9.1 to 2.9.2
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Renovate Bot
                      nested: []
                  version: leviathan-2.24.3
                  title: ""
                  date: 2023-04-17T13:55:54.890Z
                - commits:
                    - subject: "docker-compose-qemu: allow to configure internal disk"
                      hash: 24778477fe25c36558d36e619f14e2755f8d1eab
                      body: >
                        Whether the internal disk is attached or not will be
                        defined by the

                        environment. This allows to test the migrator that requires booting only

                        the external disk.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Alex Gonzalez <alexg@balena.io>
                        signed-off-by: Alex Gonzalez <alexg@balena.io>
                      author: Alex Gonzalez
                      nested: []
                  version: leviathan-2.24.2
                  title: ""
                  date: 2023-04-15T14:20:36.020Z
          version: meta-balena-2.114.19
          title: ""
          date: 2023-05-04T09:05:39.686Z
  version: 2.114.19
  title: ""
  date: 2023-05-04T10:11:14.838Z
- commits:
    - subject: Update layers/meta-balena to 0d43fec5037b2b4be928647e9b626c62c794c6f0
      hash: d8b4d288acf5daed0a2596163dd9011f1ebd52c4
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to 0d43fec5037b2b4be928647e9b626c62c794c6f0
        changelog-entry: Update layers/meta-balena to 0d43fec5037b2b4be928647e9b626c62c794c6f0
      author: Renovate Bot
      nested:
        - commits:
            - subject: Update balena-supervisor to v14.10.10
              hash: 2db66def0ea9273503ce9169142d7b6e66449cd1
              body: |
                Update balena-supervisor from 14.10.8 to 14.10.10
              footer:
                Change-type: patch
                change-type: patch
              author: Renovate Bot
              nested:
                - commits:
                    - subject: "mount-partitions.sh: Add support for encrypted partitions"
                      hash: 004592894474676e3d024e5636b9fccce9f173f9
                      body: >
                        After a recent change enforcing all the partitions to be
                        on the same

                        block device, encrypted partitions are no longer being detected

                        correctly. This is because the assumption that the parent block device

                        is a substring of the actually mounted block device does not work

                        for LUKS devices - the mount will either be /dev/mapper/luks-XXX

                        or /dev/dm-X while the parent device is still e.g. /dev/sda.


                        The usual balenaOS boot partition is also split in two - boot and efi.

                        The boot partition (mounted under /mnt/boot) is encrypted and the efi

                        partition (mounted under /mnt/efi) is not.


                        This patch generalizes the detection of the parent device so that

                        it works with both encrypted and unencrypted partitions.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Michal Toman <michalt@balena.io>
                        signed-off-by: Michal Toman <michalt@balena.io>
                      author: Michal Toman
                      nested: []
                  version: balena-supervisor-14.10.10
                  title: ""
                  date: 2023-05-03T16:01:37.089Z
                - commits:
                    - subject: Run test supervisor under a different service name
                      hash: 33b29cfa225959dd0a58564128017e04d019ea5f
                      body: >
                        The docker compose V2 spec no longer accepts
                        `network_mode: bridge`,

                        which means we can no longer override the network configuration of

                        the `balena-supervisor` service for tests.


                        For this reason we now create a separate service to run the built

                        supervisor `balena-supervisor-sut` and run API tests against this

                        service instead of the default `balena-supervisor`.
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Kyle Harding
                      nested: []
                  version: balena-supervisor-14.10.9
                  title: ""
                  date: 2023-05-03T14:26:36.360Z
          version: meta-balena-2.114.18
          title: ""
          date: 2023-05-03T18:08:17.355Z
  version: 2.114.18
  title: ""
  date: 2023-05-03T19:24:50.448Z
- commits:
    - subject: Update layers/meta-balena to fa0106adb36432f5538f908304e9967c827dcfd4
      hash: 6c10f4c4aa3b37ff1e1040ca0deca045f1b59f1f
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to fa0106adb36432f5538f908304e9967c827dcfd4
        changelog-entry: Update layers/meta-balena to fa0106adb36432f5538f908304e9967c827dcfd4
      author: Renovate Bot
      nested:
        - commits:
            - subject: "test: append installer configuration instead of replacing it"
              hash: 2844d312784f2bf452fb547f2a4418814217ded1
              body: >
                Both the migrator and secureboot tests assumed they were
                creating an

                installer config.json section. Modify the code so both settings are

                included.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "test: os: use boolean for installer migration flag"
              hash: e2a4555c035ddd90c22afbf2150769175c6fb2f1
              body: >
                The installerForceMigration is a boolean, so let's use the
                proper type.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.114.17
          title: ""
          date: 2023-05-03T13:25:15.091Z
  version: 2.114.17
  title: ""
  date: 2023-05-03T15:24:44.773Z
- commits:
    - subject: Update contracts to 75cd5e9f19d49b8723b7e39033763ca698e1254f
      hash: 9712e85dc42666135c75aeda6e0dcf673f8ccd41
      body: Update contracts
      footer:
        Changelog-entry: Update contracts to 75cd5e9f19d49b8723b7e39033763ca698e1254f
        changelog-entry: Update contracts to 75cd5e9f19d49b8723b7e39033763ca698e1254f
      author: Renovate Bot
      nested:
        - commits:
            - subject: "hw.device-type: Add revpi-connect-s"
              hash: d81ef3d12565d9c0e81d776a6a156f22f6322728
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Obaid Chemkhi obaid.chemkhi@voltstorage.com
                signed-off-by: Obaid Chemkhi obaid.chemkhi@voltstorage.com
              author: Obaid Ch
          version: contracts-2.0.59
          title: ""
          date: 2023-05-03T09:53:24.491Z
  version: 2.114.16+rev1
  title: ""
  date: 2023-05-03T11:07:59.138Z
- commits:
    - subject: Update layers/meta-balena to 43bf9f98db7de74bce36141f5e55c4dcffb7e060
      hash: ec931ff1f780329d6a3aba157b370a19a3ab2db2
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to 43bf9f98db7de74bce36141f5e55c4dcffb7e060
        changelog-entry: Update layers/meta-balena to 43bf9f98db7de74bce36141f5e55c4dcffb7e060
      author: Renovate Bot
      nested:
        - commits:
            - subject: "initrdscripts: give the root device a chance to come up before
                cryptsetup"
              hash: 23b87079d424fa52753949d46a89d872360ee4ff
              body: >
                At this moment if the cryptsetup initrd script executes before
                the root

                device comes up (e.g. when booting off a USB disk), it assumes

                that encryption is not in place because it was not able to find

                the EFI partition.


                This patch adds a wait4file loop to the script that waits

                for the /dev/disk/by-state directory. This is not tied to any particular

                partition or device but since the directory does not exist by default

                and is only created by a custom balenaOS udev rule, its existence

                implies that the rule fired and a device with balenaOS partitions

                is present in the system.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.114.16
          title: ""
          date: 2023-05-02T23:16:09.725Z
  version: 2.114.16
  title: ""
  date: 2023-05-03T02:06:45.101Z
- commits:
    - subject: Update layers/meta-balena to 6dea3e6c37f789704d95485ed1ddab2b63226111
      hash: d1945bb36bdf4a4ef9f427a790116d4fe3aa3b37
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to 6dea3e6c37f789704d95485ed1ddab2b63226111
        changelog-entry: Update layers/meta-balena to 6dea3e6c37f789704d95485ed1ddab2b63226111
      author: Renovate Bot
      nested:
        - commits:
            - subject: "patch: Add additional logs when logging in using balenaSDK"
              hash: 2c607e878de285f30baab3c94605ca8d151ac597
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: meta-balena-2.114.15
          title: ""
          date: 2023-04-28T13:49:31.011Z
  version: 2.114.15
  title: ""
  date: 2023-04-28T16:49:10.629Z
- commits:
    - subject: Update layers/meta-balena to e610a1f7d15aaf3795b335e0773680561bee054b
      hash: d11854512cd6b43a2b8e293c1618c2cd7a51be2a
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to e610a1f7d15aaf3795b335e0773680561bee054b
        changelog-entry: Update layers/meta-balena to e610a1f7d15aaf3795b335e0773680561bee054b
      author: Renovate Bot
      nested:
        - commits:
            - subject: Update balena-supervisor to v14.10.8
              hash: d454cdb1145c80128cc280f40e6633d862ae0086
              body: |
                Update balena-supervisor from 14.10.7 to 14.10.8
              footer:
                Change-type: patch
                change-type: patch
              author: Renovate Bot
              nested:
                - commits:
                    - subject: Fix service comparison when creating component steps
                      hash: 5fdd689590d048685cc11e32a14ccf7faf3887ee
                      body: >
                        A bug in service comparison would make it that a device
                        already running

                        a service from a new release with network changes would never stop the

                        running service so remaining services would forever get stuck in

                        `Downloaded` state.


                        This fixes the comparison so the service will get killed in this case,

                        particularly allowing devices to recover from #1576
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                    - subject: "Create tests with recovery from #1576"
                      hash: 7b8b187c749c3390243b2246ba20d60ccc40db1f
                      body: >
                        Devices affected by the bug described in 1576, are also
                        stuck with some

                        services in the `Downloaded` state, because the state engine does not

                        detect that the running services should be killed on a network change

                        even if they belong to a new release. This is a bug, which can be

                        replicated by the tests in this commit
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                    - subject: Skip updateMetadata step if there are network changes
                      hash: 7aecaae8b02832afca3d52d233ecf5eaa8fa9ab8
                      body: >
                        Previous behavior would make it that an `updateMetadata`
                        step would take

                        precedence over a `kill` step when network changes are present. This

                        would lead to an inconsistent state if an update included a

                        network and a container change.
                      footer:
                        Closes: "#1576"
                        closes: "#1576"
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                    - subject: Add replication of issue using unit tests
                      hash: 0a358a4463717b53c3619432781a0ab568fb74c1
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                    - subject: Add integration tests for state-engine
                      hash: 138aec5de418c7673285303d66d35b8cea43e4a8
                      body: >
                        These tests use the supervisor API to check that
                        applying a target state

                        allows the device to eventually get to the desired target configuration.


                        This are high-level tests that work with real images and containers

                        using dind.
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                    - subject: Do not pass auth to images with no registry
                      hash: c1207cbbff836f99fadb33dd5cf65baa2da0ecf8
                      body: >
                        The supervisor allows the target image to be an image
                        without a

                        registry (e.g. `alpine:latest`), while this really only happens while in

                        local mode, we don't want to pass credentials to the default registry as

                        those credentials are meant for balena registry and will otherwise fail.
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-14.10.8
                  title: ""
                  date: 2023-04-26T18:49:41.754Z
          version: meta-balena-2.114.14
          title: ""
          date: 2023-04-27T17:45:02.161Z
  version: 2.114.14
  title: ""
  date: 2023-04-27T20:02:16.187Z
- commits:
    - subject: Update layers/meta-balena to 90dd8d13b6e4015fa4fb8a3407ddf37eab443cd6
      hash: 37713c7208168329892cdaf3b6dc763d4fd05808
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to 90dd8d13b6e4015fa4fb8a3407ddf37eab443cd6
        changelog-entry: Update layers/meta-balena to 90dd8d13b6e4015fa4fb8a3407ddf37eab443cd6
      author: Renovate Bot
      nested:
        - commits:
            - subject: "hostapp-update-hooks: use unsafe fatrw copy for bootfiles"
              hash: 71d1fa57f88e73a39cc95cca41ee148c0a2bd8c7
              body: >
                A safe copy would only work for files that are read by fatrw
                also and that is

                not the case for boot files. Still, some file like `config.json` would

                benefit from a safe copy so we still try that first.


                Fixes #2998
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-config-vars: introduce unsafe fatrw copy"
              hash: df43a753c7d191b715101fd107da93fcdb7085cb
              body: >
                If a safe copy is preferred but non-critical, the unsafe fatrw
                command

                can be used and if fatrw does not have enough resources to make a safe

                copy it will fallback to a standard cp.


                This is useful when performing hostOS updates for example where a safe

                copy would only work for files that are read by fatrw also and that is

                not the case for boot files for example.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.114.13
          title: ""
          date: 2023-04-27T12:25:49.566Z
  version: 2.114.13
  title: ""
  date: 2023-04-27T17:00:12.502Z
- commits:
    - subject: Update contracts to 6c6ed28d459bc48102a69cdf0850d2eb4c778ce7
      hash: 9ddc3adcc673f3a12f466bd4e8b24d7c81acdadd
      body: Update contracts
      footer:
        Changelog-entry: Update contracts to 6c6ed28d459bc48102a69cdf0850d2eb4c778ce7
        changelog-entry: Update contracts to 6c6ed28d459bc48102a69cdf0850d2eb4c778ce7
      author: Renovate Bot
      nested:
        - commits:
            - subject: "jetson-agx-orin-devkit: Mention the RAM configuration in the device
                name"
              hash: 82d3a94938956376eeafa518a863a344acd2190b
              body: |
                By default the AGX Orin Devkit has 32GB RAM, however, new
                production modules have been released with L4T 35.3.1 so we
                should emphasize that newer modules may not work with this
                image.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
          version: contracts-2.0.58
          title: ""
          date: 2023-04-27T11:52:02.405Z
  version: 2.114.12+rev1
  title: ""
  date: 2023-04-27T14:45:14.440Z
- commits:
    - subject: Update layers/meta-balena to 0396b07b2119b2c1a3cdf2bbd107e08de2110671
      hash: ccb17537c689382f2a9b6fd1c991c8fe5a32e362
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to 0396b07b2119b2c1a3cdf2bbd107e08de2110671
        changelog-entry: Update layers/meta-balena to 0396b07b2119b2c1a3cdf2bbd107e08de2110671
      author: Renovate Bot
      nested:
        - commits:
            - subject: "classes: kernel-balena: force recompilation if signing variables
                change"
              hash: ed976cd342d7f70236a683bdf179a8490862f747
              body: >
                If they signing variables change, we need to rebuild and resign
                kernel

                and modules.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-keys: make tasks depends on signing variables"
              hash: 421d737c200915787e5bc6c6829254cf5b4976f1
              body: >
                To avoid unneeded rebuilds, just make the actual key fetching
                tags

                depend on the signing variables.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "classes: sign: make signing task depends on signing variables"
              hash: a17f312bea7302577b7c739d57474e9014d4b8d1
              body: >
                The signing process order depends on the package to be signed,
                so let's

                make sure the re-signing happens.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.114.12
          title: ""
          date: 2023-04-26T10:01:38.568Z
    - subject: Update layers/meta-balena to 945c6af54ac4f637418ec812747e4fe4e43e8844
      hash: f6a29ef64326a16360ae53c57d10c2ecff19d53f
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to 945c6af54ac4f637418ec812747e4fe4e43e8844
        changelog-entry: Update layers/meta-balena to 945c6af54ac4f637418ec812747e4fe4e43e8844
      author: Renovate Bot
      nested:
        - commits:
            - subject: "classes: kernel-balena: force recompilation if signing variables
                change"
              hash: ed976cd342d7f70236a683bdf179a8490862f747
              body: >
                If they signing variables change, we need to rebuild and resign
                kernel

                and modules.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "balena-keys: make tasks depends on signing variables"
              hash: 421d737c200915787e5bc6c6829254cf5b4976f1
              body: >
                To avoid unneeded rebuilds, just make the actual key fetching
                tags

                depend on the signing variables.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "classes: sign: make signing task depends on signing variables"
              hash: a17f312bea7302577b7c739d57474e9014d4b8d1
              body: >
                The signing process order depends on the package to be signed,
                so let's

                make sure the re-signing happens.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.114.12
          title: ""
          date: 2023-04-26T10:01:38.568Z
  version: 2.114.12
  title: ""
  date: 2023-04-26T12:40:55.124Z
- commits:
    - subject: Update layers/meta-balena to 6f38c16dea7e006ee20b90a089574505fbce4a25
      hash: 950deb491ec5c9c4028977b725cb4e7859abf24e
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to 6f38c16dea7e006ee20b90a089574505fbce4a25
        changelog-entry: Update layers/meta-balena to 6f38c16dea7e006ee20b90a089574505fbce4a25
      author: Renovate Bot
      nested:
        - commits:
            - subject: "mkfs-hostapp-native: Update base image in Dockerfile"
              hash: 5d0e8d90050ab0bf94911ab4e676cb529c70c56b
              body: |
                Update Dockerfile base image from debian strech to the latest
                stable debian bullseye to fix mkfs-hostapp-native build.

                The old image has been moved in Dockerhub to debian/eol.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.114.10
          title: ""
          date: 2023-04-24T14:32:34.955Z
  version: 2.114.10
  title: ""
  date: 2023-04-24T17:33:50.759Z
- commits:
    - subject: Update layers/meta-balena to e2663a747325b2cb71476fde889244ad424ec8a4
      hash: 603d9f5c9a7bf1742273e192909942d5c652f429
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to e2663a747325b2cb71476fde889244ad424ec8a4
        changelog-entry: Update layers/meta-balena to e2663a747325b2cb71476fde889244ad424ec8a4
      author: Renovate Bot
      nested:
        - commits:
            - subject: "tests: os: configure to use installer's migrator"
              hash: 0715805137a721f6d551e3087f7eb5231036c004
              body: >
                Configuring the flasher image to force the migration. We use
                this to

                skip migration tests when not configured.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "test: os: add installer migration test"
              hash: fa327dce24a147846662ad110cc5b9d43f9a0604
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.114.9
          title: ""
          date: 2023-04-22T20:25:50.077Z
  version: 2.114.9
  title: ""
  date: 2023-04-22T22:41:12.125Z
- commits:
    - subject: Update balena-yocto-scripts to 34c8434ffcaeeeb14853082bbf2b4ecc5e0ec769
      hash: 3a2efb1cd7688648a9fd1ae798a9d9e288b8614a
      body: Update balena-yocto-scripts
      footer:
        Changelog-entry: Update balena-yocto-scripts to 34c8434ffcaeeeb14853082bbf2b4ecc5e0ec769
        changelog-entry: Update balena-yocto-scripts to 34c8434ffcaeeeb14853082bbf2b4ecc5e0ec769
      author: Renovate Bot
      nested:
        - commits:
            - subject: "barys: fix removal of equals sign from argval"
              hash: 8855ad4d31b45187e4007763b6bb084e08974807
              body: >
                When parsing additional variables to be passed to the bitbake
                build,

                keys and values are split using equals as a delimiter. However, the

                splitting process does not split only on the first occurrence, which

                results in removing equals signs from the value as well. This is

                problematic with base64 encoded strings, which are padded with equals

                signs.


                Split only on the first occurrence, leaving the value intact.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: balena-yocto-scripts-1.19.27
          title: ""
          date: 2023-04-21T22:08:39.297Z
  version: 2.114.8+rev1
  title: ""
  date: 2023-04-22T06:23:59.367Z
- commits:
    - subject: Update layers/meta-balena to f7fe9a9bb773aa19cee244ab6f1b275ff182d40d
      hash: 206ee35f35fa97ac3a70f09517d51a5c146afeb1
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to f7fe9a9bb773aa19cee244ab6f1b275ff182d40d
        changelog-entry: Update layers/meta-balena to f7fe9a9bb773aa19cee244ab6f1b275ff182d40d
      author: Renovate Bot
      nested:
        - commits:
            - subject: Update balena-supervisor to v14.10.7
              hash: 05df5cf13d140f03365acd732bdca73bf48f09ff
              body: |
                Update balena-supervisor from 14.10.6 to 14.10.7
              footer:
                Change-type: patch
                change-type: patch
              author: Renovate Bot
              nested:
                - commits:
                    - subject: Remove safeStateClone function
                      hash: 6c031299d686cca9bb89f950b105ab5bf62fae97
                      body: >
                        This function is no longer needed with the latest
                        changes to

                        getCurrentState
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                    - subject: Get rid of targetVolatile in app manager
                      hash: 36311ef7a1b9192879c4951fb7e4521ef3c4840b
                      body: >
                        Target volatile doesn't make sense now that we can use
                        the

                        current state as a target. It wasn't actually being used for anything

                        anymore apparently
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                    - subject: Make pausingApply a private member of device-state
                      hash: 1e0dd381f54efd31119454db592d5c047d829681
                      body: >
                        This simplifies this module interface and hides
                        implementation details

                        from the rest of the code.


                        The function `applyIntermediateTarget` will now call `pausingApply`

                        before applying the target


                        API actions no longer need to call pausing apply
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                    - subject: Simplify doRestart and doPurge actions
                      hash: 3d43f7e3b367636f01ac9b6388c933bab5c896e5
                      body: >
                        The actions now work by passing an intermediate state to
                        the state

                        engine.


                        - doPurge first removes the user app from the target state and passes
                          that to the state engine for purging. Since intermediate state doesn't
                          remove images, this will have the effect of basically re-installing
                          the app.

                        - doRestart modifies the target state by first removing only the
                          services from the current state but keeping volumes and networks. This
                          has the same effect as before where services were stopped one by one
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                    - subject: Fix network appUuid inference in local mode
                      hash: 43630e52674e82bf32792e2d15db35a9af332865
                      body: >
                        Local mode uses a numeric `appUuid` which was messing up
                        parsing the

                        network name. This fixes this issue so the current state can be used

                        as a target state
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                    - subject: Get image name from DB when getting the app current state
                      hash: b1fc4e1761e02edc84c1be344a91ef29e771aa28
                      body: >
                        The Service class in `compose/service.ts` cannot get the
                        image name

                        from the image id when building the object from the container metadata.


                        We query the metadata in the application manager getCurrentApps method

                        so the current state can be used as target by API methods
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                    - subject: Improve net alias comparison to prevent unwanted restarts
                      hash: 27f0d2e655a5c11c89103847c485fa06babc1954
                      body: >
                        Network aliases are now compared checking that the
                        target state is a

                        subset of the current state. This will prevent service restarts due to

                        additional aliases created by docker in the container.
                      footer:
                        Closes: "#2134"
                        closes: "#2134"
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                    - subject: Exclude containerId from service network aliases
                      hash: cb98133717b1c4c8f9e46c95ec7df996deae60e6
                      body: >
                        When getting the service from the docker container,
                        remove the

                        containerId from the list of aliases (which gets added by docker). This

                        will make it easier to use the current service state as a target.


                        This will help us remove the `safeStateClone` function in the API in a

                        future commit
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                    - subject: Skip image delete when applying intermediate state
                      hash: f2ca7dbb6ae465f361fc05fb42dc5ff7cfc8de4c
                      body: >
                        This replaces the previous flag `isApplyingIntermediate`
                        on application

                        manager and simplifies the interface of the state engine to make temporary changes to the

                        general app state.
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                    - subject: Make local mode image management work as in cloud mode
                      hash: 967cb7747f187f70500f6393360df10b40fddebf
                      body: >
                        There were multiple places in the state engine that
                        skipped some

                        operations while in local mode. In reality, all it's needed while in

                        local mode is to skip image and volume deletion.


                        This commit simplifies application-manager and compose app to be more

                        local mode agnostic and instead making the image deletion and volume

                        deletion configurable via function arguments.


                        This also has the benefit to make the treatment of local mode

                        applications more similar to cloud mode applications, allowing for

                        API endpoints to function the same way both modes.
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                    - subject: Remove ignoreImages argument from getRequiredSteps
                      hash: 76d5be64e56c63c01474cee2ead43d02470c1389
                      body: >
                        The argument was unused and hence unnecesary. This is
                        just a bit of

                        cleanup
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-14.10.7
                  title: ""
                  date: 2023-04-21T23:04:18.417Z
          version: meta-balena-2.114.8
          title: ""
          date: 2023-04-22T02:27:23.269Z
  version: 2.114.8
  title: ""
  date: 2023-04-22T04:23:54.514Z
- commits:
    - subject: Update layers/meta-balena to f2637a0d4cf774ed903613dd058ff9db037ad23e
      hash: ee46bb2f8f0967fc72eb50e08cc9528b44b67d76
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to f2637a0d4cf774ed903613dd058ff9db037ad23e
        changelog-entry: Update layers/meta-balena to f2637a0d4cf774ed903613dd058ff9db037ad23e
      author: Renovate Bot
      nested:
        - commits:
            - subject: Update balena-supervisor to v14.10.6
              hash: ddd2e839ed3cab692488640cb98cdd6a795fcfba
              body: |
                Update balena-supervisor from 14.10.4 to 14.10.6
              footer:
                Change-type: patch
                change-type: patch
              author: Renovate Bot
              nested:
                - commits:
                    - subject: Do not restart balena-hostname on rename
                      hash: 7b68ee4c4f03f464c762afc0b3da06e3f4620440
                      body: >
                        The OS since v2.82.6 will monitor changes to config.json
                        and restart

                        the relevant services to apply the changes. There is no need to trigger

                        restart of the services via the supervisor. Users on older OS versions

                        will need to update their OS or restart the services manually as OS

                        loses support after 2y.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Closes: "#2160"
                        closes: "#2160"
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-14.10.6
                  title: ""
                  date: 2023-04-20T18:25:01.001Z
                - commits:
                    - subject: Remove anonymous build volume from Dockerfile
                      hash: a3675651898f050eaefce0a9c4e02890ddc57b57
                      body: >
                        We don't need this anonymous volume as /data is bind
                        mounted into

                        the container from host (legacy), and will soon be mounted by the

                        Supervisor itself on startup.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Christina Ying Wang <christina@balena.io>
                        signed-off-by: Christina Ying Wang <christina@balena.io>
                      author: Christina Ying Wang
                      nested: []
                  version: balena-supervisor-14.10.5
                  title: ""
                  date: 2023-04-13T21:01:21.133Z
          version: meta-balena-2.114.7
          title: ""
          date: 2023-04-20T20:18:09.935Z
  version: 2.114.7
  title: ""
  date: 2023-04-20T22:18:52.153Z
- commits:
    - subject: Update layers/meta-balena to ac3e9193544d0bc3188473f725e3d88495caed75
      hash: 339d37a172a256f3ce94115fa076fb488e6a5d4b
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to ac3e9193544d0bc3188473f725e3d88495caed75
        changelog-entry: Update layers/meta-balena to ac3e9193544d0bc3188473f725e3d88495caed75
      author: Renovate Bot
      nested:
        - commits:
            - subject: Update db and dbx hashes during HUP when secure boot is enabled
              hash: 775dc7dba7afe2674dc0ef84e00bb773495d4c98
              body: >
                After moving to hashes for authenticating the allowed OS list,
                we need

                to update the db variable on each HUP to make sure the new OS

                will be bootable. After confirming that the update went through,

                we need to update the dbx variable to make sure the old OS is

                no longer bootable.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: "balena-db-hashes: ship both db and dbx updates"
              hash: c428010c83fd3a3ca1f4cdc72fc94a90f6be6ee4
              body: >
                In order to use hashes we can not use UEFI time-based
                authentication

                for updates as this would prevent rollbacks. Instead we ship appendable

                updates for both db and dbx that HUP can use.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: Use hashes instead of certificates for secure boot image validation
              hash: c205b247c14cbdd132cb1bb335da2d17fa40caf5
              body: >
                This patch changes the validation of bootable images from
                certificate

                signatures to a list of allowed hashes of binaries. This only applies

                on db level, PK and KEK are still certificates.


                The motivation is that certificates expire and we need to be sure

                that even devices that have been lying on a shelf for several years

                or whose CMOS battery has died and reset date to 1970-01-01 are still

                bootable. Using hashes is more aligned with this use-case and also

                more similar to the approach that embedded SoCs use.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.114.6
          title: ""
          date: 2023-04-20T04:15:18.461Z
  version: 2.114.6
  title: ""
  date: 2023-04-20T05:34:19.569Z
- commits:
    - subject: Update layers/meta-balena to cca4a5e7e9523bbe5892af3846ff8b3f03d6c749
      hash: a6b9e4d2b845068897b5a2ddabbcaff208d0986e
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to cca4a5e7e9523bbe5892af3846ff8b3f03d6c749
        changelog-entry: Update layers/meta-balena to cca4a5e7e9523bbe5892af3846ff8b3f03d6c749
      author: Renovate Bot
      nested:
        - commits:
            - subject: Ship separate GRUB images for secure boot
              hash: 1eb49acca051d7c34fa0e48bd673fc764320b2e9
              body: >
                Shipping a single image with signature checks enabled will
                enforce

                the signatures on non-secure-boot systems as well. GRUB does not have

                a simple method to check whether secure boot is enabled that could

                be embedded with the default built-in config.


                With this patch we build two separate images - one enforcing

                the signatures and the other one not, keeping the original behavior.

                HUP and flasher both can detect if secure boot is enabled so they

                put the correct image in place when installing/updating GRUB.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.114.5
          title: ""
          date: 2023-04-19T10:14:40.931Z
  version: 2.114.5
  title: ""
  date: 2023-04-19T12:13:21.774Z
- commits:
    - subject: Update layers/meta-balena to 1264f58c432b7d87523a59ff27e246c2d6a3f903
      hash: 3875edf95df5958c160b7209ec6712d995a03365
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to 1264f58c432b7d87523a59ff27e246c2d6a3f903
        changelog-entry: Update layers/meta-balena to 1264f58c432b7d87523a59ff27e246c2d6a3f903
      author: Renovate Bot
      nested:
        - commits:
            - subject: "initedscripts: recovery: do not use strings for timeout"
              hash: c17da3802213251c69ba8a99ce6a8a63b358f022
              body: >
                Remove the `m` suffix to the timeout as they are supposed to be
                compared

                as integer numbers.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "resin-init-flasher: limit boot device identification to booting disk"
              hash: 5ee9a12075c3c0a11455ccb342ce4499916395be
              body: >
                The installer is to copy configuration files into the boot
                partition on

                the installer disk - searching by label needs to be restriced to the

                booting disk to avoid clashes if there are other disks with matching

                labels present.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "resin-init-flasher: add verbose copy of migration log"
              hash: 8fe29890b6e3c2caca1c603f1ecbe046d9cd1fc1
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "resin-init-flasher: fix EFI installation for multiple disks"
              hash: 69459a964f62adbe4b9661b718994391c4a78363
              body: >
                Search for the installation disk on the same device the system
                is being

                installed on. This avoids problems when there are more than one disk

                with balena/resin labelling.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "initrdscripts: migrate: correctly identify boot device"
              hash: 27fd9e05d16d60a7340a16abcda5e93fd1fdb199
              body: >
                The internal target device to program is not always the device
                the system

                is booting from. Make sure the `flash-boot` partition search is done

                on the booting device.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "distro: balena-os: update GRUB key id for signature"
              hash: f4242aa560e869892a7289ac8523bed055feffe3
              body: >
                Update the default Grub key id so it matches the currently
                configured

                key. This avoids having to configure this in the build jobs.


                [skip ci]
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.114.4
          title: ""
          date: 2023-04-18T12:20:45.009Z
  version: 2.114.4
  title: ""
  date: 2023-04-18T15:10:28.336Z
- commits:
    - subject: Update balena-yocto-scripts to 66e817cc08c391f06d0cf16dded7e6cf2082d0ca
      hash: c5fe97833cc1a6c295bafbf28917ececaddc2538
      body: Update balena-yocto-scripts
      footer:
        Changelog-entry: Update balena-yocto-scripts to 66e817cc08c391f06d0cf16dded7e6cf2082d0ca
        changelog-entry: Update balena-yocto-scripts to 66e817cc08c391f06d0cf16dded7e6cf2082d0ca
      author: Renovate Bot
      nested:
        - commits:
            - subject: "balena-lib: Do not return error if no balena user token is available"
              hash: e335e248305cda86ce55f934b2b3ba8202f17454
              body: >
                The balena API token is only required for private device access
                so don't

                fail if there is not one available.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: balena-yocto-scripts-1.19.26
          title: ""
          date: 2023-04-12T15:18:36.631Z
  version: 2.114.3+rev1
  title: ""
  date: 2023-04-12T19:47:06.689Z
- commits:
    - subject: Update layers/meta-balena to 9197a215577fd82110fc3c0a863a25fa9ec3cfcc
      hash: c5d6bfa414bf34ea094e175f124e5ae349c4542d
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to 9197a215577fd82110fc3c0a863a25fa9ec3cfcc
        changelog-entry: Update layers/meta-balena to 9197a215577fd82110fc3c0a863a25fa9ec3cfcc
      author: Renovate Bot
      nested:
        - commits:
            - subject: Update balena-supervisor to v14.10.4
              hash: 8dc882977526603790280a7550985df3bce4db09
              body: |
                Update balena-supervisor from 14.10.2 to 14.10.4
              footer:
                Change-type: patch
                change-type: patch
              author: Renovate Bot
              nested:
                - commits:
                    - subject: Log uncaught promise exceptions on the app entry
                      hash: 676464142690da2e36a810cb35e4ea4d0d751636
                      body: >
                        Node 15 [changed the way it treats unhandled promise
                        rejections](https://github.com/nodejs/node/blob/main/doc/changelogs/CHANGELOG_V15.md#throw-on-unhandled-rejections---33021)
                        from a warning to a throw.

                        For this reason errors like a corrupt migration directory, that happens when trying to

                        roll back to a previous supervisor version were no longer showing a

                        message but dumping the full minimized code into the journal logs.


                        This PR adds a catchall on app.ts to log the exception and throw an exit

                        code of 1.
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-14.10.4
                  title: ""
                  date: 2023-04-10T18:15:41.878Z
                - commits:
                    - subject: Fix assertion error in restart-service
                      hash: b9e1464d96824f5332c71324d753d94ddbdecf90
                      body: >
                        From:
                        https://github.com/balena-os/balena-supervisor/pull/2153/commits/c0b4fafe842115933b1da9b4d68e601a19c3e4eb

                        Restart-service checks that both services have restarted in its test assertion, which is

                        incorrect as restart-service should only restart one service.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Christina Ying Wang <christina@balena.io>
                        signed-off-by: Christina Ying Wang <christina@balena.io>
                      author: Christina Ying Wang
                      nested: []
                  version: balena-supervisor-14.10.3
                  title: ""
                  date: 2023-04-10T15:17:58.539Z
          version: meta-balena-2.114.3
          title: ""
          date: 2023-04-12T13:45:48.569Z
  version: 2.114.3
  title: ""
  date: 2023-04-12T16:46:50.654Z
- commits:
    - subject: Update layers/meta-balena to af7446b3723221a5dbaa6e979c57e305d481f2d3
      hash: 4931a9ce478266a5cf256eae99b45b5e611af7b7
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to af7446b3723221a5dbaa6e979c57e305d481f2d3
        changelog-entry: Update layers/meta-balena to af7446b3723221a5dbaa6e979c57e305d481f2d3
      author: Renovate Bot
      nested:
        - commits:
            - subject: "tests: cloud: convert ssh tunneling to test"
              hash: 248e90fc904bf6ebd5db30d9bb20b354292acf7f
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
            - subject: "tests: hup: convert ssh tunneling to test"
              hash: 7e5651325fc5350a6380f0725149223c93e2e48c
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
            - subject: "tests: os: convert ssh tunneling to test"
              hash: cbf245f22c4726a8a89038c683efe0f0ae1e3f3f
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
            - subject: "tests: cloud: check engine+sv ok in suite"
              hash: 6a3f7954003491513fd4e32d9f6cff2866dad202
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
            - subject: "tests: os: check engine+sv ok in suite"
              hash: 2d312e67a8d347083e3f036fcb488a4118b37f87
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
            - subject: "tests:cloud: convert initial SSH attempt into test"
              hash: e14af621a3224979c5b50b36476a814ea4c5fbe1
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
            - subject: "tests: hup: convert initial SSH attempt into test"
              hash: 6aa5127d328c798bc8d36f34fc96dba3dd845506
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
            - subject: "tests: os: convert initial SSH attempt into test"
              hash: 42de079f6adc8e2bf8bd1aaf1b8e36e7dca0056c
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: meta-balena-2.114.2
          title: ""
          date: 2023-04-12T08:58:35.753Z
  version: 2.114.2
  title: ""
  date: 2023-04-12T11:50:56.448Z
- commits:
    - subject: Update layers/meta-balena to aa8a58d761c11e9ed875d78e74f6838cb4e2ff02
      hash: 6fa13bb28b1f484eab6126ebbbb003c542ff0264
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to aa8a58d761c11e9ed875d78e74f6838cb4e2ff02
        changelog-entry: Update layers/meta-balena to aa8a58d761c11e9ed875d78e74f6838cb4e2ff02
      author: Renovate Bot
      nested:
        - commits:
            - subject: Update balena-supervisor to v14.10.2
              hash: 822ccaddeb62a8cc732f6422566f1f3ec129c3a0
              body: |
                Update balena-supervisor from 14.10.1 to 14.10.2
              footer:
                Change-type: patch
                change-type: patch
              author: Renovate Bot
              nested:
                - commits:
                    - subject: "backends: Add Jetson Orin NX custom device-tree support"
                      hash: 6b67db98e54cd7756d7e31d9676d31ab305c4d56
                      body: ""
                      footer:
                        Signed-off-by: Alexandru Costache <alexandru@balena.io>
                        signed-off-by: Alexandru Costache <alexandru@balena.io>
                        Change-type: patch
                        change-type: patch
                      author: Alexandru Costache
                      nested: []
                  version: balena-supervisor-14.10.2
                  title: ""
                  date: 2023-04-07T18:35:17.559Z
          version: meta-balena-2.114.1
          title: ""
          date: 2023-04-07T21:27:08.879Z
  version: 2.114.1
  title: ""
  date: 2023-04-07T23:27:51.128Z
- commits:
    - subject: Update contracts to 777cd35ffb8bebb2a9d8a2ec6b88a45b2c937193
      hash: b85301d28a3f7eb2b53aacfcbda7475083941249
      body: Update contracts
      footer:
        Changelog-entry: Update contracts to 777cd35ffb8bebb2a9d8a2ec6b88a45b2c937193
        changelog-entry: Update contracts to 777cd35ffb8bebb2a9d8a2ec6b88a45b2c937193
      author: Renovate Bot
      nested:
        - commits:
            - subject: "debian/ubuntu jetson-orin-nx-xavier-nx-devkit: Add distro configs"
              hash: ad9d69f447d9091f1ae2a582b02941472efb0539
              body: |
                The Orin NX modules uses L4T 35.2
              footer:
                Change-type: patch
                change-type: patch
              author: Alexandru Costache
            - subject: "Orin NX: Update flashing steps"
              hash: c7e77638474694870874afa17a453b727b3797d3
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
          version: contracts-2.0.57
          title: ""
          date: 2023-04-07T12:53:58.620Z
  version: 2.114.0+rev1
  title: ""
  date: 2023-04-07T13:48:44.173Z
- commits:
    - subject: Update layers/meta-balena to 3f0e4743516442227387bb9fc55d97fdf7d57a12
      hash: ee32bd8e8a427735e92075187ac9ecdfdd3ebddb
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to 3f0e4743516442227387bb9fc55d97fdf7d57a12
        changelog-entry: Update layers/meta-balena to 3f0e4743516442227387bb9fc55d97fdf7d57a12
      author: Renovate Bot
      nested:
        - commits:
            - subject: Update balena-supervisor to v14.10.1
              hash: 0bb69e86e973bf449539a942dec3ac82660ed37a
              body: |
                Update balena-supervisor from 14.9.8 to 14.10.1
              footer:
                Change-type: minor
                change-type: minor
              author: Renovate Bot
              nested:
                - commits:
                    - subject: Use dbus-send to get current boot block device instead of fdisk
                      hash: 4ab8250c971e2f05d9dbf5870f9feb8dd298bdda
                      body: ""
                      footer:
                        Closes: "#2150"
                        closes: "#2150"
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Christina Ying Wang <christina@balena.io>
                        signed-off-by: Christina Ying Wang <christina@balena.io>
                      author: Christina Ying Wang
                      nested: []
                  version: balena-supervisor-14.10.1
                  title: ""
                  date: 2023-04-07T00:15:59.534Z
                - commits:
                    - subject: Mount boot partition into container on Supervisor start
                      hash: 49ee1042a87ce0b101054e32b84afaa324a371de
                      body: >
                        As the Supervisor is a privileged container, it has
                        access to host /dev, and therefore has access

                        to boot, data, and state balenaOS partitions. This commit sets up the framework for the following:


                        - Finds the /dev partition that corresponds to each partition based on partition label

                        - Mounts the partitions into set mountpoints in the device

                        - Removes reliance on env vars and mountpoints provided by host's start-balena-supervisor script

                        - Simplifies host path querying by centralizing these queries through methods in lib/host-utils.ts


                        This particular changes env vars for and mounts the boot partition.


                        Since the Supervisor would no longer rely on container `run` arguments provided by a host script,

                        this change moves Supervisor closer to being able to start itself (Supervisor-as-an-app).
                      footer:
                        Change-type: minor
                        change-type: minor
                        Signed-off-by: Christina Ying Wang <christina@balena.io>
                        signed-off-by: Christina Ying Wang <christina@balena.io>
                      author: Christina Ying Wang
                      nested: []
                  version: balena-supervisor-14.10.0
                  title: ""
                  date: 2023-03-28T19:13:49.886Z
          version: meta-balena-2.114.0
          title: ""
          date: 2023-04-07T02:24:02.321Z
  version: 2.114.0
  title: ""
  date: 2023-04-07T04:24:52.362Z
- commits:
    - subject: Update layers/meta-balena to e2c8c03322c0321c77d28f9691438876c097eacf
      hash: b8ce833478175fe7c222f0152708ff0b515a8a3f
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to e2c8c03322c0321c77d28f9691438876c097eacf
        changelog-entry: Update layers/meta-balena to e2c8c03322c0321c77d28f9691438876c097eacf
      author: Renovate Bot
      nested:
        - commits:
            - subject: Update balena-engine to v20.10.34
              hash: 5400eacc4003ff9fdf7d9d6e8b60ffb96dde9d87
              body: |
                Update balena-engine from 20.10.33 to 20.10.34
              footer:
                Change-type: patch
                change-type: patch
              author: Renovate Bot
              nested:
                - commits:
                    - subject: Update librsync-go to v0.8.5, circbuf to v0.1.3
                      hash: a7c917a97048314e956d7264e97598465f88c1c7
                      body: >
                        Notable improvements these new versions bring:


                        * Optimized code path for generating deltas with blocks that are
                          power-of-two-sized.
                        * Avoid allocating unbounded amounts of memory when the target differs
                          completely from the source.
                        * Several bugfixes in edge cases that shall not affect balenaEngine.
                      footer:
                        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        Change-type: patch
                        change-type: patch
                      author: Leandro Motta Barros
                      nested: []
                  version: balena-engine-20.10.34
                  title: ""
                  date: 2023-04-05T13:06:06.674Z
          version: meta-balena-2.113.35
          title: ""
          date: 2023-04-05T15:18:23.115Z
  version: 2.113.35
  title: ""
  date: 2023-04-05T17:19:01.933Z
- commits:
    - subject: Update layers/meta-balena to c2d483b3e07138f6b0f34cd2b32c916133a5929d
      hash: 1a09eff7d731e141c071ce0a6033e242701c2dce
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to c2d483b3e07138f6b0f34cd2b32c916133a5929d
        changelog-entry: Update layers/meta-balena to c2d483b3e07138f6b0f34cd2b32c916133a5929d
      author: Renovate Bot
      nested:
        - commits:
            - subject: Update tests/leviathan digest to 5785e44
              hash: 47268fc3f69a0dc59d11d0ab1e12e7c229c5af24
              body: Update tests/leviathan
              footer:
                Change-type: patch
                change-type: patch
              author: Renovate Bot
              nested:
                - commits:
                    - subject: Deprecate worker release env var (again)
                      hash: cb7f600321dc11cc7481bc3ffd111155f763e621
                      body: |
                        This env var breaks Renovate parsing, and it is
                        no longer used by Jenkins or leviathan-worker e2e tests.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Kyle Harding <kyle@balena.io>
                        signed-off-by: Kyle Harding <kyle@balena.io>
                      author: Kyle Harding
                      nested: []
                  version: leviathan-2.24.1
                  title: ""
                  date: 2023-04-04T21:10:17.519Z
                - commits:
                    - subject: "minor: Add Leviathan Test Helpers"
                      hash: f3f2752cb25fca9ad851de96cc246916f84012ce
                      body: ""
                      footer:
                        Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
                        signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
                      author: Vipul Gupta (@vipulgupta2048)
                      nested: []
                  version: leviathan-2.24.0
                  title: ""
                  date: 2023-04-03T06:44:28.297Z
                - commits:
                    - subject: "patch: Output final-result in the end"
                      hash: eacad86187f72586ddbcd36041f619fb40c5b7ad
                      body: ""
                      footer:
                        Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
                        signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
                      author: Vipul Gupta (@vipulgupta2048)
                      nested: []
                  version: leviathan-2.23.6
                  title: ""
                  date: 2023-03-31T13:18:07.076Z
                - commits:
                    - subject: update default worker version
                      hash: 5b659e8a3d0921f01f1cf493373a97f909d60d26
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Ryan Cooke <ryan@balena.io>
                        signed-off-by: Ryan Cooke <ryan@balena.io>
                      author: rcooke-warwick
                      nested: []
                  version: leviathan-2.23.5
                  title: ""
                  date: 2023-03-31T12:49:09.258Z
                - commits:
                    - subject: "swtpm: store state in tmpfs"
                      hash: 25460508d5477dd27a4743b4684e97e6d0f8529a
                      body: >
                        swtpm stores state in the directory specified in the
                        --tpmstate argument


                        If the same state directory/files are used for multiple installations,

                        the available space can be filled, and the installer will fail with the

                        error "insufficient space for NV allocation".


                        Move swtpm state to tmpfs to create new state files every run.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Joseph Kogut <joseph@balena.io>
                        signed-off-by: Joseph Kogut <joseph@balena.io>
                      author: Joseph Kogut
                      nested: []
                  version: leviathan-2.23.4
                  title: ""
                  date: 2023-03-29T22:31:39.865Z
                - commits:
                    - subject: Update core/contracts digest to fa51fae
                      hash: 10e156b48610903182257493aea812f8d8893b84
                      body: |
                        Update core/contracts
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Renovate Bot
                      nested: []
                  version: leviathan-2.23.3
                  title: ""
                  date: 2023-03-29T20:32:23.397Z
          version: meta-balena-2.113.34
          title: ""
          date: 2023-04-04T23:15:50.826Z
  version: 2.113.34
  title: ""
  date: 2023-04-05T01:16:51.965Z
- commits:
    - subject: Update contracts to a7fa4ca620414f2a2742210c5f97e0c207fa660b
      hash: b0965176006c024b066f0098185fde0d4be303b2
      body: Update contracts
      footer:
        Changelog-entry: Update contracts to a7fa4ca620414f2a2742210c5f97e0c207fa660b
        changelog-entry: Update contracts to a7fa4ca620414f2a2742210c5f97e0c207fa660b
      author: Renovate Bot
      nested:
        - commits:
            - subject: "jetson-orin-nx-xavier-nx-devkit: Add contract for device type"
              hash: ddae0174c36b0893d723308d948d72c276787ed5
              body: |
                The provisioning instructions are incomplete at this time, they
                will be updated once the balenaOS integration is complete. The
                device needs to be inspected in staging first.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
          version: contracts-2.0.56
          title: ""
          date: 2023-04-04T08:46:42.967Z
  version: 2.113.33+rev1
  title: ""
  date: 2023-04-04T10:14:23.449Z
- commits:
    - subject: Update layers/meta-balena to 98b6efa43d3d83df72b49b4caed6ade5b5326fa9
      hash: d1a4f2020c5fd92b93a8369710d47ae14a0e4bb5
      body: Update layers/meta-balena
      footer:
        Changelog-entry: Update layers/meta-balena to 98b6efa43d3d83df72b49b4caed6ade5b5326fa9
        changelog-entry: Update layers/meta-balena to 98b6efa43d3d83df72b49b4caed6ade5b5326fa9
      author: Renovate Bot
      nested:
        - commits:
            - subject: Update tests/leviathan digest to e5dcbae
              hash: a536523b56cbbfc50b9db7e356cd142bb674e9fd
              body: Update tests/leviathan
              footer:
                Change-type: patch
                change-type: patch
              author: Renovate Bot
              nested:
                - commits:
                    - subject: "patch: Update path to balena-io/renovate-config"
                      hash: 2698c25cb7bf70920b5025f941ea57b16532285c
                      body: ""
                      footer: {}
                      author: Kyle Harding
                      nested: []
                  version: leviathan-2.23.2
                  title: ""
                  date: 2023-03-28T17:08:00.960Z
          version: meta-balena-2.113.33
          title: ""
          date: 2023-03-28T20:47:58.221Z
        - commits:
            - subject: "renovate: Inherit automerge settings from org"
              hash: 1db559de9180eaf96235bed661060b4b34d98ca4
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.113.32
          title: ""
          date: 2023-03-28T16:06:51.691Z
        - commits:
            - subject: Don't create core dumps in containers by default
              hash: 1a78f2a1a27684bf244c881555b691d63a3247f6
              body: >
                Setting `LimitCORE=0` will avoid the creation of core dump files
                on

                containers. This will avoid cases in which a crashlooping user app ends

                up filling up the entire storage with dump files.


                Users can re-enable core dumps in their services by manually setting the

                `ulimits.core`. For example:


                ```

                services:
                  my-service:
                    ulimits:
                      core: -1
                ```


                (Where -1 is used to mean "unlimited")
              footer:
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
                Change-type: patch
                change-type: patch
              author: Leandro Motta Barros
              nested: []
            - subject: Make sure balenaEngine owns the container cgroups
              hash: 5efa793c5af63ef177de95b8b4251799b0de7f40
              body: >
                Setting `Delegate=yes` ensures that systemd will not change
                anything on

                the cgroups created for running the containers.


                This setting is used upstream since this commit:

                https://github.com/moby/moby/commit/d16737f971092767c1b9d28302a3f5aedbe2f576


                And also is recommended by systemd: https://systemd.io/CGROUP_DELEGATION/
              footer:
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
                Change-type: patch
                change-type: patch
              author: Leandro Motta Barros
              nested: []
          version: meta-balena-2.113.31
          title: ""
          date: 2023-03-28T03:45:14.883Z
        - commits:
            - subject: Update balena-engine to v20.10.33
              hash: e902f495278255bdea5f341ac7634d5ec0238d5d
              body: |
                Update balena-engine from 20.10.32 to 20.10.33
              footer:
                Change-type: patch
                change-type: patch
              author: Renovate Bot
              nested:
                - commits:
                    - subject: Add integration tests for balena's "delta on load"
                      hash: 47a0a065f8c28bfdcbac2f0e96d9cbc3adb1c3bb
                      body: ""
                      footer:
                        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        Change-type: patch
                        change-type: patch
                      author: Leandro Motta Barros
                      nested: []
                    - subject: Simplify and improve delta error handling
                      hash: 2c972dff108a153896116b07798bbc959c07ef01
                      body: >
                        The original delta code on the `xfer` package used to
                        set `d.err` when

                        an unexpected EOF was found in the delta tar stream. Turns out `d.err`

                        would end up being overwritten before it was read, so that initial

                        assignment was effectively a no-op.


                        This commit simplifies the code a little bit by removing this bogus

                        assignment and also improves the error reporting a notch by adding more

                        context to the error messages.
                      footer:
                        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        Change-type: patch
                        change-type: patch
                      author: Leandro Motta Barros
                      nested: []
                    - subject: Refactor the xfer portions of delta
                      hash: 8c9e6ec7c0efcb81c718c979ad45133f64679fc8
                      body: >
                        This factors out portions of the `xfer` package, so that
                        we can

                        reuse this functionality between `balena pull` and `balena load`. There

                        was a good deal of duplication.
                      footer:
                        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        Change-type: patch
                        change-type: patch
                      author: Leandro Motta Barros
                      nested: []
                    - subject: Refactor the distribution portions of delta
                      hash: 34dd5a92f29e85a77926b9c5983552054dd483c8
                      body: >
                        This factors out portions of the `distribution` package,
                        so that we can

                        reuse this functionality between `balena pull` and `balena load`. There

                        was a good deal of duplication.


                        This piece of code is tricky to factor out into a separate function.

                        Basically we had two options:


                        1. Create a completely reusable, DRY function that encapsulates all the
                           duplicate code. Sounds nice until you noticed that would be a
                           horrendous function with 5 return values and overly obscure
                           semantics.
                        2. We create a small set of functions with clearer interfaces and
                           semantics, but which will still lead to some code duplication between
                           the `pull` and `load` implementations.

                        I opted for the second alternative because the resulting code is much

                        easier to understand and maintain. Also, the remaining duplication is

                        mostly dumb, integration and error handling code that almost writes

                        itself as we call the new reusable functions -- so, this is sort of a

                        benign duplication.
                      footer:
                        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        Change-type: patch
                        change-type: patch
                      author: Leandro Motta Barros
                      nested: []
                  version: balena-engine-20.10.33
                  title: ""
                  date: 2023-03-27T18:46:44.671Z
          version: meta-balena-2.113.30
          title: ""
          date: 2023-03-27T21:30:24.970Z
        - commits:
            - subject: Update balena-supervisor to v14.9.8
              hash: 52b8dee720722c0e917810676321a713075e09e1
              body: |
                Update balena-supervisor from 14.9.7 to 14.9.8
              footer:
                Change-type: patch
                change-type: patch
              author: Renovate Bot
              nested:
                - commits:
                    - subject: Revert "Use multi-arch in dockerfile"
                      hash: 75eeac5ed4b7ec076482c0cace2d2cfca8b6b2d4
                      body: >
                        This reverts commit
                        00e389e5f559dd10e49cfa411784b89498c3c0eb.


                        Images generated using this dockerfile still don't have the right

                        architecture. More testing is needed
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-14.9.8
                  title: ""
                  date: 2023-03-27T08:05:44.148Z
          version: meta-balena-2.113.29
          title: ""
          date: 2023-03-27T14:11:59.453Z
        - commits:
            - subject: "README: modify migration documentation to match module"
              hash: f237b34bd6510d106202461b78da7fa0f2637ca0
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.113.28
          title: ""
          date: 2023-03-27T09:42:22.974Z
        - commits:
            - subject: Update balena-supervisor to v14.9.7
              hash: ff8a0471336b1c9f3dd0abe6f5c0af4a63121089
              body: |
                Update balena-supervisor from 14.9.4 to 14.9.7
              footer:
                Change-type: patch
                change-type: patch
              author: Renovate Bot
              nested:
                - commits:
                    - subject: Add missing log backend field assignment in logger init
                      hash: 37371d89dcea3e1d713b9bb806fc6866cdd5ae9f
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Christina Ying Wang <christina@balena.io>
                        signed-off-by: Christina Ying Wang <christina@balena.io>
                      author: Christina Ying Wang
                      nested: []
                  version: balena-supervisor-14.9.7
                  title: ""
                  date: 2023-03-23T21:40:32.099Z
                - commits:
                    - subject: Update deploy-to-balena action to 0.26.2
                      hash: 7cde98d7f7fb6a476dd14bbec5df7d45a1bfd3e8
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                    - subject: Use multi-arch in dockerfile
                      hash: 00e389e5f559dd10e49cfa411784b89498c3c0eb
                      body: >
                        This is necessary since the builder no longer passes the
                        platform flag

                        to the build. This would lead to dockerfiles that are mixing multi and single

                        arch stages to pull the wrong architecture images, particularly when

                        trying to build images in emulated builds (e.g. armv7hf built on aarch64).


                        Moving the full build to multi-arch solves this as the docker engine is

                        capable of chosing the right architecture from the manifest.
                      footer:
                        Relatest-to: balena-io/balena-builder#1010
                        relatest-to: balena-io/balena-builder#1010
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-14.9.6
                  title: ""
                  date: 2023-03-23T20:18:31.098Z
                - commits:
                    - subject: Use log endpoint subdomain if it exists in config.json
                      hash: 36e46d80a6f147b95664ac052fd01cd438388555
                      body: ""
                      footer:
                        See: https://github.com/balena-io/open-balena-api/pull/1288
                        see: https://github.com/balena-io/open-balena-api/pull/1288
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Christina Ying Wang <christina@balena.io>
                        signed-off-by: Christina Ying Wang <christina@balena.io>
                      author: Christina Ying Wang
                      nested: []
                  version: balena-supervisor-14.9.5
                  title: ""
                  date: 2023-03-20T19:21:47.709Z
          version: meta-balena-2.113.27
          title: ""
          date: 2023-03-24T03:30:52.600Z
        - commits:
            - subject: Update balena-engine to v20.10.32
              hash: 47dd9486a7d306301119c5099bc8e3e0854ec21c
              body: |
                Update balena-engine from 20.10.26 to 20.10.32
              footer:
                Change-type: patch
                change-type: patch
              author: Renovate Bot
              nested:
                - commits:
                    - subject: "Installer: Make the script POSIX-compliant"
                      hash: cc0683f0aa5cdd5cae54cf278e060328e2c2595f
                      body: >
                        There were various usages of Bash-specific features. As
                        a result, the

                        script would work correctly only on OSes that have `sh` as an alias to

                        `bash`. It would fail on Ubuntu, for example.
                      footer:
                        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        Change-type: patch
                        change-type: patch
                      author: Leandro Motta Barros
                      nested: []
                    - subject: "Installer: Improve handling of su/sudo"
                      hash: 0a46c1fbce94daff87799074a8243dbdd75b39c2
                      body: >
                        A couple of changes here:


                        * Check for sudo necessity and availability before doing any real work.
                          Better to warn and exit quick and early!
                        * Remove the support for using `su`. It was broken for two reasons.
                          First, unlike `sudo`, `su -c` expects the command as a single
                          argument. Second, `su`, unlike `sudo`, reads the password from stdin
                          which in this case "contains" the tarball being downloaded. The second
                          point is particularly tricky to solve without saving the tarball to
                          storage (and we want to avoid extra storage space and wear). And,
                          anyway, users that can `su -c` can also `su` manually before
                          installing.
                      footer:
                        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        Change-type: patch
                        change-type: patch
                      author: Leandro Motta Barros
                      nested: []
                    - subject: "Installer: Improve checking for dependencies"
                      hash: a0a285599586bd6167c7eb4b73c7a2a2c0b3be1c
                      body: >
                        A couple of changes here:


                        * Check for missing dependencies before doing any real work. Better to
                          warn and exit quick and early!
                        * Fix the actual check. We previously used `[ $abort ] && exit 1` which
                          caused the script to always exit (`abort` is never empty).
                      footer:
                        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        Change-type: patch
                        change-type: patch
                      author: Leandro Motta Barros
                      nested: []
                    - subject: "Installer: remove support for the 386 architecture"
                      hash: 7403e49d04e41907d89d81054ee4d6a14bb32b9b
                      body: |
                        We disabled builds for linux/386 in v20.10.28 (commit
                        ae2500b7e254b91f4a8f86e44d1ac6f2679c953a).
                      footer:
                        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        Change-type: patch
                        change-type: patch
                      author: Leandro Motta Barros
                      nested: []
                    - subject: Remove the installation script from docs/
                      hash: 5305ab263ffebd08d0346de2bdbed34585805f4f
                      body: >
                        This is removing a duplicate, since the same script is
                        also present

                        under contrib/
                      footer:
                        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        Change-type: patch
                        change-type: patch
                      author: Leandro Motta Barros
                      nested: []
                  version: balena-engine-20.10.32
                  title: ""
                  date: 2023-03-21T20:13:28.900Z
                - commits:
                    - subject: Remove references to deprecated build targets
                      hash: 9e72257bf1ced842076f4df8d488c10580561711
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Kyle Harding
                      nested: []
                    - subject: Revert "Cross-build the dynbinary target"
                      hash: 9562704af9213870b7f861dcd394a06be6782678
                      body: >
                        This reverts commit
                        0240d94e35a43be595cd5e79b0653440c228229f.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Kyle Harding <kyle@balena.io>
                        signed-off-by: Kyle Harding <kyle@balena.io>
                      author: Kyle Harding
                      nested: []
                  version: balena-engine-20.10.31
                  title: ""
                  date: 2023-03-20T20:13:05.215Z
                - commits:
                    - subject: Fix typos in the masterclass docs
                      hash: 0633e148120feffef1d2d13aece801a4d43d4a49
                      body: ""
                      footer:
                        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        Change-type: patch
                        change-type: patch
                      author: Leandro Motta Barros
                      nested: []
                    - subject: "patch: Migrate balenaEngine Debugging docs from masterclass"
                      hash: 8a5f98ef25b951ed3108ff6e12cf23841508d9ec
                      body: ""
                      footer:
                        Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                        signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                      author: Vipul Gupta (@vipulgupta2048)
                      nested: []
                  version: balena-engine-20.10.30
                  title: ""
                  date: 2023-03-13T17:03:36.999Z
                - commits:
                    - subject: Rename test functions for better clarity
                      hash: f5b966a63503577b1b826dc23b95773fd073aacf
                      body: >
                        Added an `Asserting` suffix to all functions that
                        internally call

                        `assert.*()`. This makes clearer what is really going on at the point of

                        call, without needing to look under the hood.
                      footer:
                        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        Change-type: patch
                        change-type: patch
                      author: Leandro Motta Barros
                      nested: []
                    - subject: Add test case for the delta image store
                      hash: aecb27a8dc6af5a39bb882f2c2f30894ed0b2abd
                      body: ""
                      footer:
                        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        Change-type: patch
                        change-type: patch
                      author: Leandro Motta Barros
                      nested: []
                    - subject: Add dev-focused docs on some balenaEngine features
                      hash: 75b62a76df57767fcc1ab86f0adb3a9f210480a7
                      body: >
                        Most notably, on the "delta root" feature, which is
                        important for HUPs,

                        not very well-known and not documented anywhere else I know.
                      footer:
                        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        Change-type: patch
                        change-type: patch
                      author: Leandro Motta Barros
                      nested: []
                    - subject: Simplify test code by using new std lib function
                      hash: 2d192ea16be1df569c86028128397515d6d3322d
                      body: >
                        io.ReadAll() is available since Go 1.16 (to which we
                        upgraded some time

                        ago).
                      footer:
                        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        Change-type: patch
                        change-type: patch
                      author: Leandro Motta Barros
                      nested: []
                    - subject: Set the delta image store, fix delta-based HUPs
                      hash: 9fe31eb8dad8dbcc35e48cb0f90a12b67256e490
                      body: >
                        We apparently have broken this during the 20.10 merge.
                        Not setting the

                        delta image store breaks delta-based balenaOS updates (HUPs).
                      footer:
                        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        Change-type: patch
                        change-type: patch
                      author: Leandro Motta Barros
                      nested: []
                  version: balena-engine-20.10.29
                  title: ""
                  date: 2023-02-20T13:34:08.745Z
                - commits:
                    - subject: Disable builds for linux/386
                      hash: ae2500b7e254b91f4a8f86e44d1ac6f2679c953a
                      body: |
                        This is currently broken (apparently also upstream).
                      footer:
                        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        signed-off-by: Leandro Motta Barros <leandro@balena.io>
                        Change-type: patch
                        change-type: patch
                      author: Leandro Motta Barros
                      nested: []
                  version: balena-engine-20.10.28
                  title: ""
                  date: 2023-02-20T12:32:22.989Z
                - commits:
                    - subject: Merge upstream v20.10.17
                      hash: 013d0279ce25791b87a0a0d77686e2cd74f6462a
                      body: "For full changelog see:
                        https://github.com/balena-os/balena-engine/blob/20.10.1\
                        7-balena/CHANGELOG.md#2023-02-07-upstream-release"
                      footers:
                        change-type: patch
                        signed-off-by: Leandro Motta Barros <leandro@balena.io>
                      author: Leandro Motta Barros
                      nested: []
                  version: balena-engine-20.10.27
                  date: 2023-02-07T12:00:00.000Z
          version: meta-balena-2.113.26
          title: ""
          date: 2023-03-23T23:31:29.250Z
        - commits:
            - subject: "kernel-balena: Include NFS V2, V3 and V4 client and server modules"
              hash: 54c4090b518bccfdba0b635ead129502572685be
              body: >
                As per internal discussion thread

                https://balena.zulipchat.com/#narrow/stream/345882-_help/topic/.E2.9C.94.20nfs.20.283.20or.204.29.20on.20jetson.20nano/near/342072698
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.113.25
          title: ""
          date: 2023-03-23T19:39:38.006Z
  version: 2.113.33
  title: ""
  date: 2023-04-03T13:27:31.816Z
- commits:
    - subject: Prevent duplicate CI workflow executions
      hash: ed4bebc8fbda5ff3077cd0d795bd4e23b6c5875d
      body: ""
      footer:
        Changelog-entry: Prevent duplicate CI workflow executions
        changelog-entry: Prevent duplicate CI workflow executions
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.113.24+rev2
  title: ""
  date: 2023-04-03T12:56:24.873Z
- commits:
    - subject: Update contracts to fa51fae4b720521334626045c25f754a046f6228
      hash: 6e15a34790570ab76ecf8842a140f56ff51e91a3
      body: Update contracts
      footer:
        Changelog-entry: Update contracts to fa51fae4b720521334626045c25f754a046f6228
        changelog-entry: Update contracts to fa51fae4b720521334626045c25f754a046f6228
      author: Renovate Bot
      nested:
        - commits:
            - subject: "iot-gate-imx8plus: Update provisioning instructions"
              hash: 25cbb9cb1c96a96367a1d35615f6b679e4a20df5
              body: |
                Bring in the latest updates from the coffee file
                in the device repository.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru
          version: contracts-2.0.55
          title: ""
          date: 2023-03-29T18:35:00.091Z
  version: 2.113.24+rev1
  title: ""
  date: 2023-03-31T12:07:34.271Z
- commits:
    - subject: Update contracts to 0ff4f419b4467349d7cb1d1202b580004067664c
      hash: 28eb5afed6872054bd4b8658d6e9412e82896f1a
      body: Update contracts
      footer:
        Changelog-entry: Update contracts to 0ff4f419b4467349d7cb1d1202b580004067664c
        changelog-entry: Update contracts to 0ff4f419b4467349d7cb1d1202b580004067664c
      author: Renovate Bot
      nested:
        - commits:
            - subject: "patch: Remove CircleCI in favor of Flowzone"
              hash: 9bed27db936f4ad6acffa4a74cd0fcad72cc313d
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
              author: Vipul Gupta (@vipulgupta2048)
          version: contracts-2.0.54
          title: ""
          date: 2023-03-16T15:05:25.391Z
        - commits:
            - subject: "patch: Fix fluid tags for revpi-core-3"
              hash: 9ec5bf22c8e0d5033a8b08a432b7651da8616360
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
              author: Vipul Gupta (@vipulgupta2048)
          version: contracts-2.0.53
          title: ""
          date: 2023-03-16T13:25:57.856Z
        - commits:
            - subject: "patch: Fix punctuation in partials"
              hash: 5062b5bb7b22233ea8851996151834fa0554ea2a
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
              author: Vipul Gupta (@vipulgupta2048)
            - subject: "patch: Fix spelling of eMMC"
              hash: 044cc4865a8997e40f3ee4724a3592ce2ae42cbf
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
              author: Vipul Gupta (@vipulgupta2048)
            - subject: "patch: Fix spelling of while"
              hash: 95fbb009bb43ef40b77c61961571c64308685aff
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
              author: Vipul Gupta (@vipulgupta2048)
          version: contracts-2.0.52
          title: ""
          date: 2023-03-16T12:46:31.310Z
    - subject: Initial board support for bigMak i.MX8M PLUS
      hash: 5898df6007bb8c7a4d3d3031b7b0c50930dfb8aa
      body: ""
      footer:
        Changelog-entry: Initial board support for bigMak i.MX8M PLUS
        changelog-entry: Initial board support for bigMak i.MX8M PLUS
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 2.113.24
  title: ""
  date: 2023-03-27T13:41:16.848Z
